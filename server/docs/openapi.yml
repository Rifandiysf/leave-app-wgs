{
  "openapi": "3.0.3",
  "info":
    {
      "title": "Leave Management System",
      "version": "1.0.0",
      "description": "OpenAPI schema documentation.",
    },
  "paths":
    {
      "/auth/login":
        {
          "post":
            {
              "summary": "Login",
              "description": "Login user menggunakan email dan password.",
              "tags": ["Auth"],
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "schema":
                            {
                              "type": "object",
                              "properties":
                                {
                                  "email":
                                    {
                                      "type": "string",
                                      "format": "email",
                                      "example": "user@example.com",
                                    },
                                  "password":
                                    {
                                      "type": "string",
                                      "minLength": 8,
                                      "maxLength": 16,
                                      "example": "yourpassword123",
                                    },
                                },
                              "required": ["email", "password"],
                            },
                        },
                    },
                },
              "responses":
                {
                  "200":
                    {
                      "description": "Login berhasil",
                      "headers":
                        {
                          "Authorization":
                            {
                              "description": "JWT token dalam format Bearer",
                              "schema":
                                {
                                  "type": "string",
                                  "example": "Bearer eyJhbGciOiJIUzI1...",
                                },
                            },
                          "device-id":
                            {
                              "description": "ID perangkat unik",
                              "schema":
                                {
                                  "type": "string",
                                  "example": "123e4567-e89b-12d3-a456-426614174000",
                                },
                            },
                        },
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Welcome John Doe",
                                        },
                                      "data":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "nik":
                                                {
                                                  "type": "string",
                                                  "example": "123456",
                                                },
                                              "name":
                                                {
                                                  "type": "string",
                                                  "example": "John Doe",
                                                },
                                              "role":
                                                {
                                                  "$ref": "#/components/schemas/role",
                                                },
                                            },
                                          "required": ["nik", "name", "role"],
                                        },
                                    },
                                  "required": ["success", "message", "data"],
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Email atau password salah",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 400 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Your email or password is incorrect.",
                                        },
                                      "detail":
                                        { "type": "string", "example": "" },
                                      "stack":
                                        { "type": "string", "example": "" },
                                    },
                                  "required":
                                    ["success", "status_code", "message"],
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Akses ditolak (akun resign atau role tidak diizinkan)",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 401 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Account is no longer active.",
                                        },
                                      "detail":
                                        { "type": "string", "example": "" },
                                      "stack":
                                        { "type": "string", "example": "" },
                                    },
                                  "required":
                                    ["success", "status_code", "message"],
                                },
                            },
                        },
                    },
                  "404":
                    {
                      "description": "User tidak ditemukan",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 404 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "User not found.",
                                        },
                                      "detail":
                                        { "type": "string", "example": "" },
                                      "stack":
                                        { "type": "string", "example": "" },
                                    },
                                  "required":
                                    ["success", "status_code", "message"],
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Internal Server Error",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        { "type": "string", "example": "" },
                                      "stack":
                                        { "type": "string", "example": "" },
                                    },
                                  "required":
                                    ["success", "status_code", "message"],
                                },
                            },
                        },
                    },
                },
            },
        },
      "/auth/logout":
        {
          "get":
            {
              "summary": "Logout",
              "description": "Logout user dan hapus token dari database.",
              "tags": ["Auth"],
              "security": [{ "bearerAuth": [], "deviceId": [] }],
              "responses":
                {
                  "200":
                    {
                      "description": "Logout berhasil",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "You have been successfully logged out.",
                                        },
                                    },
                                  "required": ["success", "message"],
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Unauthorized, token tidak valid atau expired",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 401 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Unauthorized. please login to access this resources.",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "Login session expired",
                                        },
                                      "stack":
                                        { "type": "string", "example": "" },
                                    },
                                  "required":
                                    ["success", "status_code", "message"],
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Internal Server Error",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        { "type": "string", "example": "" },
                                      "stack":
                                        { "type": "string", "example": "" },
                                    },
                                  "required":
                                    ["success", "status_code", "message"],
                                },
                            },
                        },
                    },
                },
            },
        },
      "/users/leave":
        {
          "post":
            {
              "tags": ["Dashboard user"],
              "summary": "Mengajukan Permohonan Cuti Baru",
              "description": "Memungkinkan pengguna yang terautentikasi untuk mengajukan permohonan cuti baru. Endpoint ini mencakup validasi untuk body permintaan, duplikasi permohonan cuti, saldo cuti, dan pengecekan cuti khusus agar tidak jatuh pada akhir pekan.",
              "security": [{ "bearerAuth": [] }],
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "schema":
                            {
                              "type": "object",
                              "properties":
                                {
                                  "title":
                                    {
                                      "type": "string",
                                      "minLength": 3,
                                      "description": "Judul permohonan cuti. Diperlukan kecuali jika leave_type adalah 'special_leave' yang akan diisi secara otomatis dari `tb_special_leave`.",
                                    },
                                  "leave_type":
                                    {
                                      "$ref": "#/components/schemas/leave_type",
                                      "description": "Jenis cuti: personal_leave, mandatory_leave, atau special_leave.",
                                    },
                                  "start_date":
                                    {
                                      "type": "string",
                                      "format": "date",
                                      "description": "Tanggal mulai cuti (YYYY-MM-DD).",
                                    },
                                  "end_date":
                                    {
                                      "type": "string",
                                      "format": "date",
                                      "description": "Tanggal berakhir cuti (YYYY-MM-DD). Diperlukan untuk cuti pribadi atau wajib. Dihitung secara otomatis untuk cuti khusus.",
                                    },
                                  "reason":
                                    {
                                      "type": "string",
                                      "minLength": 5,
                                      "description": "Alasan permohonan cuti. Diperlukan kecuali jika leave_type adalah 'special_leave' yang akan diisi secara otomatis dari `tb_special_leave`.",
                                    },
                                  "id_special":
                                    {
                                      "type": "string",
                                      "description": "Diperlukan untuk jenis 'special_leave', merujuk pada id_special di tb_special_leave.",
                                      "nullable": true,
                                    },
                                  "id_mandatory":
                                    {
                                      "type": "string",
                                      "description": "Diperlukan untuk jenis 'mandatory_leave', merujuk pada id_mandatory di tb_mandatory_leave.",
                                      "nullable": true,
                                    },
                                },
                              "required": ["leave_type", "start_date"],
                              "oneOf":
                                [
                                  {
                                    "properties":
                                      {
                                        "leave_type":
                                          {
                                            "enum":
                                              [
                                                "personal_leave",
                                                "mandatory_leave",
                                              ],
                                          },
                                        "end_date":
                                          {
                                            "type": "string",
                                            "format": "date",
                                          },
                                      },
                                    "required": ["end_date"],
                                  },
                                  {
                                    "properties":
                                      {
                                        "leave_type":
                                          { "enum": ["special_leave"] },
                                        "id_special": { "type": "string" },
                                      },
                                    "required": ["id_special"],
                                  },
                                ],
                            },
                          "examples":
                            {
                              "personalLeaveRequest":
                                {
                                  "value":
                                    {
                                      "title": "Annual Vacation",
                                      "leave_type": "personal_leave",
                                      "start_date": "2025-08-01",
                                      "end_date": "2025-08-05",
                                      "reason": "Family vacation to Bali",
                                    },
                                },
                              "specialLeaveRequest":
                                {
                                  "value":
                                    {
                                      "leave_type": "special_leave",
                                      "start_date": "2025-09-10",
                                      "id_special": "SPL001",
                                    },
                                },
                            },
                        },
                    },
                },
              "responses":
                {
                  "201":
                    {
                      "description": "Leave request created successfully.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Leave request created successfully",
                                        },
                                      "data":
                                        {
                                          "$ref": "#/components/schemas/tb_leave",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Bad Request. This can be due to: \n- Invalid input data (Zod validation)\n- Duplicate leave request for the period\n- Invalid date format\n- Start date is after end date\n- Insufficient leave balance\n- Special leave includes weekends",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 400 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Title must be at least 3 characters",
                                              "end_date is required for personal or mandatory leave",
                                              "Invalid date format. Please use YYYY-MM-DD",
                                              "You already have a leave request during this period.",
                                              "Start date cannot be after end date",
                                              "Insufficient leave balance. Available: 5 days, Requested: 7 Holidays days",
                                              "Special leave cannot include weekends (Saturday or Sunday)",
                                              "id_special is required for special leave",
                                              "Invalid id_special provided",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "invalidInput":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 400,
                                          "message": "Title must be at least 3 characters",
                                          "detail": "",
                                        },
                                    },
                                  "duplicateLeave":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 400,
                                          "message": "You already have a leave request during this period.",
                                          "detail": "",
                                        },
                                    },
                                  "insufficientBalance":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 400,
                                          "message": "Insufficient leave balance. Available: 5 days, Requested: 7 Holidays days",
                                          "detail": "",
                                        },
                                    },
                                  "specialLeaveWeekend":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 400,
                                          "message": "Special leave cannot include weekends (Saturday or Sunday)",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Unauthorized. This can be due to: \n- Missing Authorization header or device-id\n- Invalid or expired token",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 401 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Authorization header not found",
                                              "Unauthorized. please login to access this resources.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "Login session expired",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "missingHeaders":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Authorization header not found",
                                          "detail": "",
                                        },
                                    },
                                  "expiredToken":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Unauthorized. please login to access this resources.",
                                          "detail": "Login session expired",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Internal Server Error",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "internalError":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 500,
                                          "message": "Internal Server Error",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
          "get":
            {
              "tags": ["Dashboard user"],
              "summary": "Mendapatkan Daftar Permohonan Cuti",
              "description": "Mengambil daftar permohonan cuti untuk pengguna yang diautentikasi, dengan opsi paginasi.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "page",
                    "in": "query",
                    "description": "Nomor halaman untuk paginasi",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "description": "Jumlah item per halaman",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "201":
                    {
                      "description": "Daftar permohonan cuti berhasil diambil atau tidak ada data.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Leave requests retrieved successfully",
                                              "The data doesn't exist",
                                            ],
                                        },
                                      "pagination":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "current_page":
                                                {
                                                  "type": "integer",
                                                  "description": "Halaman saat ini.",
                                                },
                                              "last_visible_page":
                                                {
                                                  "type": "integer",
                                                  "description": "Total halaman yang tersedia.",
                                                },
                                              "has_next_page":
                                                {
                                                  "type": "boolean",
                                                  "description": "Menunjukkan apakah ada halaman berikutnya.",
                                                },
                                              "item":
                                                {
                                                  "type": "object",
                                                  "properties":
                                                    {
                                                      "count":
                                                        {
                                                          "type": "integer",
                                                          "description": "Jumlah item di halaman saat ini.",
                                                        },
                                                      "total":
                                                        {
                                                          "type": "integer",
                                                          "description": "Total item di seluruh koleksi.",
                                                        },
                                                      "per_page":
                                                        {
                                                          "type": "integer",
                                                          "description": "Jumlah item per halaman.",
                                                        },
                                                    },
                                                },
                                            },
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "type": "object",
                                              "allOf":
                                                [
                                                  {
                                                    "$ref": "#/components/schemas/tb_leave",
                                                  },
                                                  {
                                                    "type": "object",
                                                    "properties":
                                                      {
                                                        "tb_leave_log":
                                                          {
                                                            "type": "object",
                                                            "properties":
                                                              {
                                                                "reason":
                                                                  {
                                                                    "type": "string",
                                                                    "description": "Alasan log cuti terakhir",
                                                                  },
                                                                "tb_users":
                                                                  {
                                                                    "type": "object",
                                                                    "properties":
                                                                      {
                                                                        "fullname":
                                                                          {
                                                                            "type": "string",
                                                                            "description": "Nama lengkap pengguna yang mengubah log",
                                                                          },
                                                                      },
                                                                  },
                                                              },
                                                          },
                                                      },
                                                  },
                                                ],
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successWithData":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "Leave requests retrieved successfully",
                                          "pagination":
                                            {
                                              "current_page": 1,
                                              "last_visible_page": 1,
                                              "has_next_page": false,
                                              "item":
                                                {
                                                  "count": 1,
                                                  "total": 1,
                                                  "per_page": 10,
                                                },
                                            },
                                          "data":
                                            [
                                              {
                                                "id_leave": "some-uuid-1",
                                                "title": "Cuti Pribadi",
                                                "leave_type": "personal_leave",
                                                "start_date": "2025-07-20",
                                                "end_date": "2025-07-22",
                                                "total_days": 3,
                                                "reason": "Acara keluarga",
                                                "status": "pending",
                                                "created_at": "2025-07-15T10:00:00Z",
                                                "NIK": "12345",
                                                "id_special": null,
                                                "id_mandatory": null,
                                                "tb_leave_log":
                                                  {
                                                    "reason": "-",
                                                    "tb_users":
                                                      { "fullname": "-" },
                                                  },
                                              },
                                            ],
                                        },
                                    },
                                  "noData":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "The data doesn't exist",
                                          "pagination":
                                            {
                                              "current_page": 1,
                                              "last_visible_page": 0,
                                              "has_next_page": false,
                                              "item":
                                                {
                                                  "count": 0,
                                                  "total": 0,
                                                  "per_page": 10,
                                                },
                                            },
                                          "data": [],
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Unauthorized. This can be due to: \n- Missing Authorization header or device-id\n- Invalid or expired token",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 401 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Authorization header not found",
                                              "Unauthorized. please login to access this resources.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "Login session expired",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "missingHeaders":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Authorization header not found",
                                          "detail": "",
                                        },
                                    },
                                  "expiredToken":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Unauthorized. please login to access this resources.",
                                          "detail": "Login session expired",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Internal Server Error",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "internalError":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 500,
                                          "message": "Internal Server Error",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/users/leave/search":
        {
          "get":
            {
              "tags": ["Dashboard user"],
              "summary": "Mencari Permohonan Cuti Berdasarkan Filter",
              "description": "Mengambil daftar permohonan cuti untuk pengguna yang diautentikasi, difilter berdasarkan jenis cuti, status, dan nilai pencarian, dengan opsi paginasi.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "value",
                    "in": "query",
                    "description": "Nilai untuk mencari judul cuti (pencarian tidak peka huruf besar/kecil)",
                    "required": false,
                    "schema": { "type": "string" },
                  },
                  {
                    "name": "type",
                    "in": "query",
                    "description": "Jenis cuti untuk difilter (personal, mandatory, special)",
                    "required": false,
                    "schema":
                      {
                        "type": "string",
                        "enum": ["personal", "mandatory", "special"],
                      },
                  },
                  {
                    "name": "status",
                    "in": "query",
                    "description": "Status cuti untuk difilter (pending, approved, reject)",
                    "required": false,
                    "schema":
                      {
                        "type": "string",
                        "enum": ["pending", "approved", "reject"],
                      },
                  },
                  {
                    "name": "page",
                    "in": "query",
                    "description": "Nomor halaman untuk paginasi",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "description": "Jumlah item per halaman",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Data cuti yang difilter berhasil diambil.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Filtered leave data retrieved successfully",
                                              "The data doesn't exist",
                                            ],
                                        },
                                      "pagination":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "current_page":
                                                { "type": "integer" },
                                              "last_visible_page":
                                                { "type": "integer" },
                                              "has_next_page":
                                                { "type": "boolean" },
                                              "item":
                                                {
                                                  "type": "object",
                                                  "properties":
                                                    {
                                                      "count":
                                                        { "type": "integer" },
                                                      "total":
                                                        { "type": "integer" },
                                                      "per_page":
                                                        { "type": "integer" },
                                                    },
                                                },
                                            },
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "type": "object",
                                              "allOf":
                                                [
                                                  {
                                                    "$ref": "#/components/schemas/tb_leave",
                                                  },
                                                  {
                                                    "type": "object",
                                                    "properties":
                                                      {
                                                        "tb_leave_log":
                                                          {
                                                            "type": "object",
                                                            "properties":
                                                              {
                                                                "reason":
                                                                  {
                                                                    "type": "string",
                                                                  },
                                                                "tb_users":
                                                                  {
                                                                    "type": "object",
                                                                    "properties":
                                                                      {
                                                                        "fullname":
                                                                          {
                                                                            "type": "string",
                                                                          },
                                                                      },
                                                                  },
                                                              },
                                                          },
                                                      },
                                                  },
                                                ],
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successWithData":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "Filtered leave data retrieved successfully",
                                          "pagination":
                                            {
                                              "current_page": 1,
                                              "last_visible_page": 1,
                                              "has_next_page": false,
                                              "item":
                                                {
                                                  "count": 1,
                                                  "total": 1,
                                                  "per_page": 10,
                                                },
                                            },
                                          "data":
                                            [
                                              {
                                                "id_leave": "some-uuid-1",
                                                "title": "Cuti Filtered",
                                                "leave_type": "personal_leave",
                                                "start_date": "2025-07-20",
                                                "end_date": "2025-07-22",
                                                "total_days": 3,
                                                "reason": "Alasan filter",
                                                "status": "approved",
                                                "created_at": "2025-07-15T10:00:00Z",
                                                "NIK": "12345",
                                                "id_special": null,
                                                "id_mandatory": null,
                                                "tb_leave_log":
                                                  {
                                                    "reason": "-",
                                                    "tb_users":
                                                      { "fullname": "-" },
                                                  },
                                              },
                                            ],
                                        },
                                    },
                                  "noData":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "The data doesn't exist",
                                          "pagination":
                                            {
                                              "current_page": 1,
                                              "last_visible_page": 0,
                                              "has_next_page": false,
                                              "item":
                                                {
                                                  "count": 0,
                                                  "total": 0,
                                                  "per_page": 10,
                                                },
                                            },
                                          "data": [],
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Bad Request. This can be due to: \n- Invalid leave type\n- Invalid leave status",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 400 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Invalid leave type. Allowed: personal, mandatory, special",
                                              "Invalid leave status. Allowed: pending, approved, reject",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "invalidLeaveType":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 400,
                                          "message": "Invalid leave type. Allowed: personal, mandatory, special",
                                          "detail": "",
                                        },
                                    },
                                  "invalidLeaveStatus":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 400,
                                          "message": "Invalid leave status. Allowed: pending, approved, reject",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Unauthorized. This can be due to: \n- Missing Authorization header or device-id\n- Invalid or expired token",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 401 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Authorization header not found",
                                              "Unauthorized. please login to access this resources.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "Login session expired",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "missingHeaders":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Authorization header not found",
                                          "detail": "",
                                        },
                                    },
                                  "expiredToken":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Unauthorized. please login to access this resources.",
                                          "detail": "Login session expired",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Internal Server Error",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "internalError":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 500,
                                          "message": "Internal Server Error",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/users/leave/{id}":
        {
          "get":
            {
              "tags": ["Dashboard user"],
              "summary": "Mendapatkan Permohonan Cuti Berdasarkan ID",
              "description": "Mengambil detail permohonan cuti tertentu untuk pengguna yang diautentikasi berdasarkan ID cuti.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "id",
                    "in": "path",
                    "description": "ID unik dari permohonan cuti",
                    "required": true,
                    "schema": { "type": "string" },
                  },
                ],
              "responses":
                {
                  "201":
                    {
                      "description": "Data cuti berhasil diambil berdasarkan ID.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Successfully retrieved leave data by ID",
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "$ref": "#/components/schemas/tb_leave",
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successWithData":
                                    {
                                      "value":
                                        {
                                          "message": "Successfully retrieved leave data by ID",
                                          "data":
                                            [
                                              {
                                                "id_leave": "specific-uuid-1",
                                                "title": "Cuti Dadakan",
                                                "leave_type": "personal_leave",
                                                "start_date": "2025-10-01",
                                                "end_date": "2025-10-02",
                                                "total_days": 2,
                                                "reason": "Sakit mendadak",
                                                "status": "approved",
                                                "created_at": "2025-09-28T09:00:00Z",
                                                "NIK": "12345",
                                                "id_special": null,
                                                "id_mandatory": null,
                                              },
                                            ],
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Unauthorized. This can be due to: \n- Missing Authorization header or device-id\n- Invalid or expired token",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 401 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Authorization header not found",
                                              "Unauthorized. please login to access this resources.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "Login session expired",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "missingHeaders":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Authorization header not found",
                                          "detail": "",
                                        },
                                    },
                                  "expiredToken":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Unauthorized. please login to access this resources.",
                                          "detail": "Login session expired",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Internal Server Error",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "internalError":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 500,
                                          "message": "Internal Server Error",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/users/{nik}":
        {
          "get":
            {
              "tags": ["Dashboard user"],
              "summary": "Mendapatkan Detail Pengguna Berdasarkan NIK",
              "description": "Mengambil detail profil pengguna tertentu, termasuk informasi saldo cuti dan status permohonan, berdasarkan Nomor Induk Karyawan (NIK). Akses terbatas: admin dan super_admin dapat melihat data pengguna manapun; karyawan hanya dapat melihat data mereka sendiri.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "nik",
                    "in": "path",
                    "description": "NIK (Nomor Induk Karyawan) pengguna yang ingin diambil datanya.",
                    "required": true,
                    "schema": { "type": "string" },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Data pengguna berhasil diambil.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Data retrieve successfully",
                                        },
                                      "requested_by":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "role":
                                                {
                                                  "$ref": "#/components/schemas/role",
                                                },
                                              "nik": { "type": "string" },
                                            },
                                        },
                                      "data":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "NIK": { "type": "string" },
                                              "fullname": { "type": "string" },
                                              "gender":
                                                {
                                                  "$ref": "#/components/schemas/gender",
                                                },
                                              "status_active":
                                                {
                                                  "$ref": "#/components/schemas/status_active",
                                                },
                                              "role":
                                                {
                                                  "$ref": "#/components/schemas/role",
                                                },
                                              "balance":
                                                {
                                                  "type": "object",
                                                  "properties":
                                                    {
                                                      "total_amount":
                                                        {
                                                          "type": "integer",
                                                          "description": "Total saldo cuti yang tersedia (current + carried).",
                                                        },
                                                      "current_amount":
                                                        {
                                                          "type": "integer",
                                                          "description": "Saldo cuti yang diterima di tahun berjalan.",
                                                        },
                                                      "carried_amount":
                                                        {
                                                          "type": "integer",
                                                          "description": "Saldo cuti yang dibawa dari tahun sebelumnya.",
                                                        },
                                                      "days_used":
                                                        {
                                                          "type": "integer",
                                                          "description": "Jumlah hari cuti yang telah disetujui dan digunakan di tahun berjalan.",
                                                        },
                                                      "pending_request":
                                                        {
                                                          "type": "integer",
                                                          "description": "Jumlah hari cuti yang sedang dalam status 'pending' di tahun berjalan.",
                                                        },
                                                    },
                                                },
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "adminRequest":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "Data retrieve successfully",
                                          "requested_by":
                                            {
                                              "role": "admin",
                                              "nik": "ADMIN001",
                                            },
                                          "data":
                                            {
                                              "NIK": "KRY001",
                                              "fullname": "Budi Santoso",
                                              "gender": "male",
                                              "status_active": "active",
                                              "role": "karyawan_tetap",
                                              "balance":
                                                {
                                                  "total_amount": 10,
                                                  "current_amount": 7,
                                                  "carried_amount": 3,
                                                  "days_used": 2,
                                                  "pending_request": 1,
                                                },
                                            },
                                        },
                                    },
                                  "userSelfRequest":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "Data retrieve successfully",
                                          "requested_by":
                                            {
                                              "role": "karyawan_tetap",
                                              "nik": "KRY001",
                                            },
                                          "data":
                                            {
                                              "NIK": "KRY001",
                                              "fullname": "Budi Santoso",
                                              "gender": "male",
                                              "status_active": "active",
                                              "role": "karyawan_tetap",
                                              "balance":
                                                {
                                                  "total_amount": 10,
                                                  "current_amount": 7,
                                                  "carried_amount": 3,
                                                  "days_used": 2,
                                                  "pending_request": 1,
                                                },
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Unauthorized. Ini bisa disebabkan oleh: \n- Header otorisasi atau 'device-id' tidak ditemukan\n- Token tidak valid atau kedaluwarsa\n- Pengguna tidak memiliki izin untuk mengakses data pengguna yang diminta.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 401 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Authorization header not found",
                                              "Unauthorized. please login to access this resources.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "Login session expired",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "missingHeaders":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Authorization header not found",
                                          "detail": "",
                                        },
                                    },
                                  "expiredToken":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Unauthorized. please login to access this resources.",
                                          "detail": "Login session expired",
                                        },
                                    },
                                  "noPermission":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "User requested has no permission",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "404":
                    {
                      "description": "Tidak Ditemukan. Pengguna dengan NIK yang diberikan tidak ditemukan.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 404 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "user not found",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "userNotFound":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 404,
                                          "message": "user not found",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan Server Internal",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "internalError":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 500,
                                          "message": "Internal Server Error",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/users/{nik}/balance":
        {
          "patch":
            {
              "tags": ["Dashboard admin"],
              "summary": "Menyesuaikan Saldo Cuti Pengguna",
              "description": "Memungkinkan 'admin' atau 'super_admin' untuk menyesuaikan saldo cuti seorang karyawan. Endpoint ini memvalidasi peran pengguna yang membuat permintaan, memastikan pengguna target ada, dan memperbarui saldo cuti serta mencatat penyesuaian.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "nik",
                    "in": "path",
                    "description": "NIK (Nomor Induk Karyawan) pengguna yang saldonya akan disesuaikan.",
                    "required": true,
                    "schema": { "type": "string" },
                  },
                ],
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "schema":
                            {
                              "type": "object",
                              "properties":
                                {
                                  "adjustment_value":
                                    {
                                      "type": "integer",
                                      "description": "Nilai untuk menyesuaikan saldo cuti. Harus angka positif.",
                                      "example": 5,
                                    },
                                  "notes":
                                    {
                                      "type": "string",
                                      "description": "Catatan tentang penyesuaian saldo.",
                                      "example": "Penambahan saldo cuti tahunan",
                                    },
                                },
                              "required": ["adjustment_value", "notes"],
                            },
                        },
                    },
                },
              "responses":
                {
                  "200":
                    {
                      "description": "Saldo berhasil disesuaikan.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Balance adjusted successfully",
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "oneOf":
                                                [
                                                  {
                                                    "$ref": "#/components/schemas/tb_balance",
                                                  },
                                                  {
                                                    "$ref": "#/components/schemas/tb_balance_adjustment",
                                                  },
                                                ],
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successAdjustment":
                                    {
                                      "value":
                                        {
                                          "message": "Balance adjusted successfully",
                                          "data":
                                            [
                                              {
                                                "id_balance": "some-balance-uuid",
                                                "amount": 15,
                                                "receive_date": "2025-01-01",
                                                "expired_date": "2025-12-31",
                                                "NIK": "KRY001",
                                              },
                                              {
                                                "id_adjustment": "some-adjustment-uuid",
                                                "adjustment_value": 5,
                                                "notes": "Penambahan saldo cuti tahunan",
                                                "created_at": "2025-07-24T10:00:00Z",
                                                "actor": "admin",
                                                "NIK": "KRY001",
                                              },
                                            ],
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Permintaan Buruk. Ini bisa disebabkan oleh: \n- Nilai penyesuaian negatif",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 400 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Adjustment value must not be negative",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "negativeAdjustmentValue":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 400,
                                          "message": "Adjustment value must not be negative",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Tidak Sah. Ini bisa disebabkan oleh: \n- Header otorisasi tidak ditemukan\n- Token tidak valid atau kedaluwarsa\n- Aktor (peran) tidak ditemukan dalam sesi",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 401 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Authorization header not found",
                                              "Unauthorized. please login to access this resources.",
                                              "'Unauthorized: actor (role) not found in session'",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "Login session expired",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "missingAuthHeader":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Authorization header not found",
                                          "detail": "",
                                        },
                                    },
                                  "expiredToken":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Unauthorized. please login to access this resources.",
                                          "detail": "Login session expired",
                                        },
                                    },
                                  "actorNotFound":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "'Unauthorized: actor (role) not found in session'",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "403":
                    {
                      "description": "Akses Ditolak. Ini bisa disebabkan oleh: \n- Peran pengguna tidak memiliki izin untuk melakukan tindakan ini.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 403 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Access denied. No role found.",
                                              "Access denied.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "accessDeniedNoRole":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 403,
                                          "message": "Access denied. No role found.",
                                          "detail": "",
                                        },
                                    },
                                  "accessDenied":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 403,
                                          "message": "Access denied.",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "404":
                    {
                      "description": "Tidak Ditemukan. Ini bisa disebabkan oleh: \n- Pengguna target tidak ditemukan\n- Saldo untuk tahun berjalan tidak ditemukan",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 404 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Target user not found",
                                              "Balance for current year not found",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "targetUserNotFound":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 404,
                                          "message": "Target user not found",
                                          "detail": "",
                                        },
                                    },
                                  "balanceNotFound":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 404,
                                          "message": "Balance for current year not found",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan Server Internal",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "internalError":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 500,
                                          "message": "Internal Server Error",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/users":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Mendapatkan Semua Pengguna",
              "description": "Mengambil daftar semua pengguna dengan opsi pencarian, filter berdasarkan jenis kelamin, status, dan peran, serta paginasi. Hanya dapat diakses oleh pengguna dengan peran 'admin' atau 'super_admin'.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "page",
                    "in": "query",
                    "description": "Nomor halaman untuk paginasi",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "description": "Jumlah item per halaman",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                  {
                    "name": "search",
                    "in": "query",
                    "description": "Kata kunci pencarian untuk nama lengkap atau NIK (tidak peka huruf besar/kecil)",
                    "required": false,
                    "schema": { "type": "string" },
                  },
                  {
                    "name": "gender",
                    "in": "query",
                    "description": "Filter berdasarkan jenis kelamin",
                    "required": false,
                    "schema": { "$ref": "#/components/schemas/gender" },
                  },
                  {
                    "name": "status",
                    "in": "query",
                    "description": "Filter berdasarkan status aktif",
                    "required": false,
                    "schema": { "$ref": "#/components/schemas/status_active" },
                  },
                  {
                    "name": "role",
                    "in": "query",
                    "description": "Filter berdasarkan peran pengguna",
                    "required": false,
                    "schema": { "$ref": "#/components/schemas/role" },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Data pengguna berhasil diambil.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Successfully retrieved user data",
                                        },
                                      "pagination":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "current_page":
                                                {
                                                  "type": "integer",
                                                  "description": "Halaman saat ini.",
                                                },
                                              "last_visible_page":
                                                {
                                                  "type": "integer",
                                                  "description": "Total halaman yang tersedia.",
                                                },
                                              "has_next_page":
                                                {
                                                  "type": "boolean",
                                                  "description": "Menunjukkan apakah ada halaman berikutnya.",
                                                },
                                              "item":
                                                {
                                                  "type": "object",
                                                  "properties":
                                                    {
                                                      "count":
                                                        {
                                                          "type": "integer",
                                                          "description": "Jumlah item di halaman saat ini.",
                                                        },
                                                      "total":
                                                        {
                                                          "type": "integer",
                                                          "description": "Total item di seluruh koleksi.",
                                                        },
                                                      "per_page":
                                                        {
                                                          "type": "integer",
                                                          "description": "Jumlah item per halaman.",
                                                        },
                                                    },
                                                },
                                            },
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "type": "object",
                                              "properties":
                                                {
                                                  "nik":
                                                    {
                                                      "type": "string",
                                                      "description": "Nomor Induk Karyawan.",
                                                    },
                                                  "name":
                                                    {
                                                      "type": "string",
                                                      "description": "Nama lengkap pengguna.",
                                                    },
                                                  "gender":
                                                    {
                                                      "$ref": "#/components/schemas/gender",
                                                      "description": "Jenis kelamin pengguna.",
                                                    },
                                                  "last_year_leave":
                                                    {
                                                      "type": "integer",
                                                      "description": "Jumlah cuti yang dibawa dari tahun sebelumnya.",
                                                    },
                                                  "this_year_leave":
                                                    {
                                                      "type": "integer",
                                                      "description": "Jumlah cuti yang diterima di tahun berjalan.",
                                                    },
                                                  "leave_total":
                                                    {
                                                      "type": "integer",
                                                      "description": "Total saldo cuti (tahun lalu + tahun ini).",
                                                    },
                                                  "role":
                                                    {
                                                      "$ref": "#/components/schemas/role",
                                                      "description": "Peran pengguna.",
                                                    },
                                                  "status":
                                                    {
                                                      "$ref": "#/components/schemas/status_active",
                                                      "description": "Status keaktifan pengguna.",
                                                    },
                                                },
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successWithData":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "Successfully retrieved user data",
                                          "pagination":
                                            {
                                              "current_page": 1,
                                              "last_visible_page": 1,
                                              "has_next_page": false,
                                              "item":
                                                {
                                                  "count": 1,
                                                  "total": 1,
                                                  "per_page": 10,
                                                },
                                            },
                                          "data":
                                            [
                                              {
                                                "nik": "KRY001",
                                                "name": "Budi Santoso",
                                                "gender": "male",
                                                "last_year_leave": 3,
                                                "this_year_leave": 7,
                                                "leave_total": 10,
                                                "role": "karyawan_tetap",
                                                "status": "active",
                                              },
                                            ],
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Tidak Sah. Ini bisa disebabkan oleh: \n- Header otorisasi atau 'device-id' tidak ditemukan\n- Token tidak valid atau kedaluwarsa",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 401 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Authorization header not found",
                                              "Unauthorized. please login to access this resources.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "Login session expired",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "missingHeaders":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Authorization header not found",
                                          "detail": "",
                                        },
                                    },
                                  "expiredToken":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Unauthorized. please login to access this resources.",
                                          "detail": "Login session expired",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "403":
                    {
                      "description": "Akses Ditolak. Ini bisa disebabkan oleh: \n- Peran pengguna tidak memiliki izin untuk melakukan tindakan ini.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 403 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Access denied. No role found.",
                                              "Access denied.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "accessDeniedNoRole":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 403,
                                          "message": "Access denied. No role found.",
                                          "detail": "",
                                        },
                                    },
                                  "accessDenied":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 403,
                                          "message": "Access denied.",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan Server Internal",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "internalError":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 500,
                                          "message": "Internal Server Error",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/leaves":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Mendapatkan Semua Pengajuan Cuti (Pending)",
              "description": "Mengambil daftar semua pengajuan cuti dengan status 'pending', lengkap dengan informasi pengguna terkait dan paginasi. Membutuhkan autentikasi dan peran 'super_admin' atau 'admin'.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "page",
                    "in": "query",
                    "description": "Nomor halaman untuk paginasi.",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "description": "Jumlah item per halaman.",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Data cuti berhasil diambil.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Leave data retrieved successfully",
                                        },
                                      "pagination":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "current_page":
                                                { "type": "integer" },
                                              "last_visible_page":
                                                { "type": "integer" },
                                              "has_next_page":
                                                { "type": "boolean" },
                                              "item":
                                                {
                                                  "type": "object",
                                                  "properties":
                                                    {
                                                      "count":
                                                        { "type": "integer" },
                                                      "total":
                                                        { "type": "integer" },
                                                      "per_page":
                                                        { "type": "integer" },
                                                    },
                                                },
                                            },
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "allOf":
                                                [
                                                  {
                                                    "$ref": "#/components/schemas/tb_leave",
                                                  },
                                                  {
                                                    "type": "object",
                                                    "properties":
                                                      {
                                                        "name":
                                                          {
                                                            "type": "string",
                                                            "description": "Nama lengkap pengguna yang mengajukan cuti.",
                                                          },
                                                      },
                                                  },
                                                ],
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successResponse":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "Leave data retrieved successfully",
                                          "pagination":
                                            {
                                              "current_page": 1,
                                              "last_visible_page": 1,
                                              "has_next_page": false,
                                              "item":
                                                {
                                                  "count": 1,
                                                  "total": 1,
                                                  "per_page": 10,
                                                },
                                            },
                                          "data":
                                            [
                                              {
                                                "id_leave": "leave-123",
                                                "title": "Cuti Tahunan",
                                                "leave_type": "personal_leave",
                                                "start_date": "2025-08-01",
                                                "end_date": "2025-08-05",
                                                "total_days": 5,
                                                "reason": "Liburan keluarga",
                                                "status": "pending",
                                                "created_at": "2025-07-24T10:00:00Z",
                                                "NIK": "KRY001",
                                                "id_special": null,
                                                "id_mandatory": null,
                                                "name": "Budi Santoso",
                                              },
                                            ],
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Tidak Sah. Ini bisa disebabkan oleh: \n- Header otorisasi atau 'device-id' tidak ditemukan\n- Token tidak valid atau kedaluwarsa",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 401 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Authorization header not found",
                                              "Unauthorized. please login to access this resources.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "Login session expired",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "missingHeaders":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Authorization header not found",
                                          "detail": "",
                                        },
                                    },
                                  "expiredToken":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Unauthorized. please login to access this resources.",
                                          "detail": "Login session expired",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "403":
                    {
                      "description": "Akses Ditolak. Ini bisa disebabkan oleh: \n- Peran pengguna tidak memiliki izin untuk melakukan tindakan ini.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 403 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Access denied. No role found.",
                                              "Access denied.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "accessDeniedNoRole":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 403,
                                          "message": "Access denied. No role found.",
                                          "detail": "",
                                        },
                                    },
                                  "accessDenied":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 403,
                                          "message": "Access denied.",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan Server Internal",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "internalError":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 500,
                                          "message": "Internal Server Error",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/leaves/search":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Mencari Pengajuan Cuti Berdasarkan Filter",
              "description": "Mengambil pengajuan cuti yang tertunda dengan filter opsional berdasarkan jenis cuti ('personal', 'mandatory', 'special') dan nilai pencarian (berdasarkan nama lengkap pengguna). Membutuhkan autentikasi dan peran 'super_admin' atau 'admin'.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "type",
                    "in": "query",
                    "description": "Jenis cuti untuk difilter (misalnya, 'personal', 'mandatory', 'special').",
                    "required": false,
                    "schema":
                      {
                        "type": "string",
                        "enum": ["personal", "mandatory", "special"],
                      },
                  },
                  {
                    "name": "value",
                    "in": "query",
                    "description": "Nilai pencarian untuk nama lengkap pengguna.",
                    "required": false,
                    "schema": { "type": "string" },
                  },
                  {
                    "name": "page",
                    "in": "query",
                    "description": "Nomor halaman untuk paginasi.",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "description": "Jumlah item per halaman.",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Data cuti yang difilter berhasil diambil.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Filtered leave data retrieved successfully",
                                        },
                                      "pagination":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "current_page":
                                                { "type": "integer" },
                                              "last_visible_page":
                                                { "type": "integer" },
                                              "has_next_page":
                                                { "type": "boolean" },
                                              "item":
                                                {
                                                  "type": "object",
                                                  "properties":
                                                    {
                                                      "count":
                                                        { "type": "integer" },
                                                      "total":
                                                        { "type": "integer" },
                                                      "per_page":
                                                        { "type": "integer" },
                                                    },
                                                },
                                            },
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "allOf":
                                                [
                                                  {
                                                    "$ref": "#/components/schemas/tb_leave",
                                                  },
                                                  {
                                                    "type": "object",
                                                    "properties":
                                                      {
                                                        "name":
                                                          {
                                                            "type": "string",
                                                            "description": "Nama lengkap pengguna yang mengajukan cuti.",
                                                          },
                                                      },
                                                  },
                                                ],
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successFilterByType":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "Filtered leave data retrieved successfully",
                                          "pagination":
                                            {
                                              "current_page": 1,
                                              "last_visible_page": 1,
                                              "has_next_page": false,
                                              "item":
                                                {
                                                  "count": 1,
                                                  "total": 1,
                                                  "per_page": 10,
                                                },
                                            },
                                          "data":
                                            [
                                              {
                                                "id_leave": "leave-124",
                                                "title": "Cuti Bersalin",
                                                "leave_type": "special_leave",
                                                "start_date": "2025-09-01",
                                                "end_date": "2025-09-30",
                                                "total_days": 30,
                                                "reason": "Melahirkan",
                                                "status": "pending",
                                                "created_at": "2025-07-24T10:05:00Z",
                                                "NIK": "KRY002",
                                                "id_special": "special-1",
                                                "id_mandatory": null,
                                                "name": "Siti Aminah",
                                              },
                                            ],
                                        },
                                    },
                                  "successFilterByValue":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "Filtered leave data retrieved successfully",
                                          "pagination":
                                            {
                                              "current_page": 1,
                                              "last_visible_page": 1,
                                              "has_next_page": false,
                                              "item":
                                                {
                                                  "count": 1,
                                                  "total": 1,
                                                  "per_page": 10,
                                                },
                                            },
                                          "data":
                                            [
                                              {
                                                "id_leave": "leave-123",
                                                "title": "Cuti Tahunan",
                                                "leave_type": "personal_leave",
                                                "start_date": "2025-08-01",
                                                "end_date": "2025-08-05",
                                                "total_days": 5,
                                                "reason": "Liburan keluarga",
                                                "status": "pending",
                                                "created_at": "2025-07-24T10:00:00Z",
                                                "NIK": "KRY001",
                                                "id_special": null,
                                                "id_mandatory": null,
                                                "name": "Budi Santoso",
                                              },
                                            ],
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Permintaan Buruk. Ini bisa disebabkan oleh: \n- Tipe cuti tidak valid.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 400 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Invalid leave type",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "invalidLeaveType":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 400,
                                          "message": "Invalid leave type",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Tidak Sah. Ini bisa disebabkan oleh: \n- Header otorisasi atau 'device-id' tidak ditemukan\n- Token tidak valid atau kedaluwarsa",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 401 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Authorization header not found",
                                              "Unauthorized. please login to access this resources.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "Login session expired",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "missingHeaders":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Authorization header not found",
                                          "detail": "",
                                        },
                                    },
                                  "expiredToken":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Unauthorized. please login to access this resources.",
                                          "detail": "Login session expired",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "403":
                    {
                      "description": "Akses Ditolak. Ini bisa disebabkan oleh: \n- Peran pengguna tidak memiliki izin untuk melakukan tindakan ini.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 403 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Access denied. No role found.",
                                              "Access denied.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "accessDeniedNoRole":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 403,
                                          "message": "Access denied. No role found.",
                                          "detail": "",
                                        },
                                    },
                                  "accessDenied":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 403,
                                          "message": "Access denied.",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan Server Internal",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "internalError":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 500,
                                          "message": "Internal Server Error",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/leaves/logs":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Mendapatkan Riwayat Log Cuti",
              "description": "Mengambil riwayat log cuti yang statusnya bukan 'pending', lengkap dengan informasi pengguna terkait dan paginasi. Membutuhkan autentikasi dan peran 'super_admin' atau 'admin'.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "page",
                    "in": "query",
                    "description": "Nomor halaman untuk paginasi.",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "description": "Jumlah item per halaman.",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Data log cuti berhasil diambil.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Leave data log retrieved successfully",
                                        },
                                      "pagination":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "current_page":
                                                { "type": "integer" },
                                              "last_visible_page":
                                                { "type": "integer" },
                                              "has_next_page":
                                                { "type": "boolean" },
                                              "item":
                                                {
                                                  "type": "object",
                                                  "properties":
                                                    {
                                                      "count":
                                                        { "type": "integer" },
                                                      "total":
                                                        { "type": "integer" },
                                                      "per_page":
                                                        { "type": "integer" },
                                                    },
                                                },
                                            },
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "type": "object",
                                              "properties":
                                                {
                                                  "name":
                                                    {
                                                      "type": "string",
                                                      "description": "Nama lengkap pengguna yang mengajukan cuti.",
                                                    },
                                                  "leave_type":
                                                    {
                                                      "$ref": "#/components/schemas/leave_type",
                                                    },
                                                  "start_date":
                                                    {
                                                      "type": "string",
                                                      "format": "date",
                                                    },
                                                  "end_date":
                                                    {
                                                      "type": "string",
                                                      "format": "date",
                                                    },
                                                  "total_days":
                                                    { "type": "integer" },
                                                  "status":
                                                    {
                                                      "$ref": "#/components/schemas/status",
                                                    },
                                                },
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successResponse":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "Leave data log retrieved successfully",
                                          "pagination":
                                            {
                                              "current_page": 1,
                                              "last_visible_page": 1,
                                              "has_next_page": false,
                                              "item":
                                                {
                                                  "count": 1,
                                                  "total": 1,
                                                  "per_page": 10,
                                                },
                                            },
                                          "data":
                                            [
                                              {
                                                "name": "Budi Santoso",
                                                "leave_type": "personal_leave",
                                                "start_date": "2025-06-01",
                                                "end_date": "2025-06-05",
                                                "total_days": 5,
                                                "status": "approved",
                                              },
                                            ],
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Tidak Sah. Ini bisa disebabkan oleh: \n- Header otorisasi atau 'device-id' tidak ditemukan\n- Token tidak valid atau kedaluwarsa",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 401 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Authorization header not found",
                                              "Unauthorized. please login to access this resources.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "Login session expired",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "missingHeaders":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Authorization header not found",
                                          "detail": "",
                                        },
                                    },
                                  "expiredToken":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Unauthorized. please login to access this resources.",
                                          "detail": "Login session expired",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "403":
                    {
                      "description": "Akses Ditolak. Ini bisa disebabkan oleh: \n- Peran pengguna tidak memiliki izin untuk melakukan tindakan ini.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 403 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Access denied. No role found.",
                                              "Access denied.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "accessDeniedNoRole":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 403,
                                          "message": "Access denied. No role found.",
                                          "detail": "",
                                        },
                                    },
                                  "accessDenied":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 403,
                                          "message": "Access denied.",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan Server Internal",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "internalError":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 500,
                                          "message": "Internal Server Error",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/leaves/logs/search":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Mencari Riwayat Log Cuti Berdasarkan Filter",
              "description": "Mengambil riwayat log cuti yang statusnya bukan 'pending' dengan filter opsional berdasarkan nilai pencarian (nama lengkap), jenis cuti, dan status cuti. Membutuhkan autentikasi dan peran 'super_admin' atau 'admin'.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "value",
                    "in": "query",
                    "description": "Nilai pencarian untuk nama lengkap pengguna.",
                    "required": false,
                    "schema": { "type": "string", "default": "" },
                  },
                  {
                    "name": "type",
                    "in": "query",
                    "description": "Jenis cuti untuk difilter (misalnya, 'personal', 'mandatory', 'special').",
                    "required": false,
                    "schema":
                      {
                        "type": "string",
                        "enum": ["personal", "mandatory", "special"],
                        "default": "",
                      },
                  },
                  {
                    "name": "status",
                    "in": "query",
                    "description": "Status cuti untuk difilter (misalnya, 'approved', 'rejected').",
                    "required": false,
                    "schema":
                      {
                        "type": "string",
                        "enum": ["approved", "rejected"],
                        "default": "",
                      },
                  },
                  {
                    "name": "page",
                    "in": "query",
                    "description": "Nomor halaman untuk paginasi.",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "description": "Jumlah item per halaman.",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Data log cuti yang difilter berhasil diambil.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Filtered leave data log retrieved successfully",
                                        },
                                      "pagination":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "current_page":
                                                { "type": "integer" },
                                              "last_visible_page":
                                                { "type": "integer" },
                                              "has_next_page":
                                                { "type": "boolean" },
                                              "item":
                                                {
                                                  "type": "object",
                                                  "properties":
                                                    {
                                                      "count":
                                                        { "type": "integer" },
                                                      "total":
                                                        { "type": "integer" },
                                                      "per_page":
                                                        { "type": "integer" },
                                                    },
                                                },
                                            },
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "type": "object",
                                              "properties":
                                                {
                                                  "name":
                                                    {
                                                      "type": "string",
                                                      "description": "Nama lengkap pengguna yang mengajukan cuti.",
                                                    },
                                                  "leave_type":
                                                    {
                                                      "$ref": "#/components/schemas/leave_type",
                                                    },
                                                  "start_date":
                                                    {
                                                      "type": "string",
                                                      "format": "date",
                                                    },
                                                  "end_date":
                                                    {
                                                      "type": "string",
                                                      "format": "date",
                                                    },
                                                  "total_days":
                                                    { "type": "integer" },
                                                  "status":
                                                    {
                                                      "$ref": "#/components/schemas/status",
                                                    },
                                                },
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successResponse":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "Filtered leave data log retrieved successfully",
                                          "pagination":
                                            {
                                              "current_page": 1,
                                              "last_visible_page": 1,
                                              "has_next_page": false,
                                              "item":
                                                {
                                                  "count": 1,
                                                  "total": 1,
                                                  "per_page": 10,
                                                },
                                            },
                                          "data":
                                            [
                                              {
                                                "name": "Siti Aminah",
                                                "leave_type": "special_leave",
                                                "start_date": "2025-09-01",
                                                "end_date": "2025-09-30",
                                                "total_days": 30,
                                                "status": "approved",
                                              },
                                            ],
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Tidak Sah. Ini bisa disebabkan oleh: \n- Header otorisasi atau 'device-id' tidak ditemukan\n- Token tidak valid atau kedaluwarsa",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 401 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Authorization header not found",
                                              "Unauthorized. please login to access this resources.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "Login session expired",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "missingHeaders":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Authorization header not found",
                                          "detail": "",
                                        },
                                    },
                                  "expiredToken":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Unauthorized. please login to access this resources.",
                                          "detail": "Login session expired",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "403":
                    {
                      "description": "Akses Ditolak. Ini bisa disebabkan oleh: \n- Peran pengguna tidak memiliki izin untuk melakukan tindakan ini.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 403 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Access denied. No role found.",
                                              "Access denied.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "accessDeniedNoRole":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 403,
                                          "message": "Access denied. No role found.",
                                          "detail": "",
                                        },
                                    },
                                  "accessDenied":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 403,
                                          "message": "Access denied.",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan Server Internal",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "internalError":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 500,
                                          "message": "Internal Server Error",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/leaves/special":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Mendapatkan Semua Cuti Khusus",
              "description": "Mengambil semua data cuti khusus dengan paginasi.",
              "parameters":
                [
                  {
                    "name": "page",
                    "in": "query",
                    "description": "Nomor halaman untuk paginasi.",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "description": "Jumlah item per halaman.",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Semua data cuti khusus berhasil diambil.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "All special leave was successfully taken",
                                        },
                                      "pagination":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "current_page":
                                                { "type": "integer" },
                                              "last_visible_page":
                                                { "type": "integer" },
                                              "has_next_page":
                                                { "type": "boolean" },
                                              "item":
                                                {
                                                  "type": "object",
                                                  "properties":
                                                    {
                                                      "count":
                                                        { "type": "integer" },
                                                      "total":
                                                        { "type": "integer" },
                                                      "per_page":
                                                        { "type": "integer" },
                                                    },
                                                },
                                            },
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "$ref": "#/components/schemas/tb_special_leave",
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successResponse":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "All special leave was successfully taken",
                                          "pagination":
                                            {
                                              "current_page": 1,
                                              "last_visible_page": 1,
                                              "has_next_page": false,
                                              "item":
                                                {
                                                  "count": 1,
                                                  "total": 1,
                                                  "per_page": 10,
                                                },
                                            },
                                          "data":
                                            [
                                              {
                                                "id_special": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
                                                "title": "Cuti Melahirkan",
                                                "applicable_gender": "f",
                                                "duration": 90,
                                                "is_active": true,
                                                "description": "Cuti untuk ibu melahirkan",
                                              },
                                            ],
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan Server Internal",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
          "post":
            {
              "tags": ["Dashboard admin"],
              "summary": "Membuat Cuti Khusus Baru",
              "description": "Membuat entri cuti khusus baru. Data yang diterima akan divalidasi.",
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "schema":
                            {
                              "type": "object",
                              "properties":
                                {
                                  "id_special":
                                    {
                                      "type": "string",
                                      "format": "uuid",
                                      "maxLength": 50,
                                      "description": "ID unik untuk cuti khusus (opsional, akan dihasilkan jika tidak diberikan)",
                                    },
                                  "title":
                                    {
                                      "type": "string",
                                      "maxLength": 255,
                                      "description": "Judul cuti khusus",
                                    },
                                  "applicable_gender":
                                    {
                                      "$ref": "#/components/schemas/applicable_gender",
                                      "description": "Jenis kelamin yang berlaku untuk cuti ini (m, f, atau mf)",
                                    },
                                  "duration":
                                    {
                                      "type": "integer",
                                      "minimum": 1,
                                      "maximum": 365,
                                      "description": "Durasi cuti dalam hari",
                                    },
                                  "is_active":
                                    {
                                      "type": "boolean",
                                      "description": "Status aktif cuti khusus (opsional)",
                                      "default": true,
                                    },
                                  "description":
                                    {
                                      "type": "string",
                                      "description": "Deskripsi cuti khusus",
                                    },
                                },
                              "required":
                                [
                                  "title",
                                  "applicable_gender",
                                  "duration",
                                  "description",
                                ],
                            },
                          "examples":
                            {
                              "createSpecialLeaveRequest":
                                {
                                  "value":
                                    {
                                      "title": "Cuti Pernikahan",
                                      "applicable_gender": "mf",
                                      "duration": 3,
                                      "description": "Cuti untuk karyawan yang menikah",
                                    },
                                },
                            },
                        },
                    },
                },
              "responses":
                {
                  "201":
                    {
                      "description": "Cuti khusus berhasil dibuat.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Special leave created successfully",
                                        },
                                      "data":
                                        {
                                          "$ref": "#/components/schemas/tb_special_leave",
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successResponse":
                                    {
                                      "value":
                                        {
                                          "message": "Special leave created successfully",
                                          "data":
                                            {
                                              "id_special": "c1d2e3f4-g5h6-7890-1234-567890abcdef",
                                              "title": "Cuti Pernikahan",
                                              "applicable_gender": "mf",
                                              "duration": 3,
                                              "is_active": true,
                                              "description": "Cuti untuk karyawan yang menikah",
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Permintaan Tidak Valid. Ini bisa disebabkan oleh: \n- Kesalahan validasi data input.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Maximum title 255 characters",
                                              "Gender must be selected",
                                              "Minimum duration 1 day",
                                              "Maximum duration 365 days",
                                            ],
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "validationError":
                                    {
                                      "value":
                                        {
                                          "message": "Maximum title 255 characters",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/leaves/special/search":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Mencari Cuti Khusus Berdasarkan Nilai",
              "description": "Mencari data cuti khusus berdasarkan judul dengan paginasi.",
              "parameters":
                [
                  {
                    "name": "value",
                    "in": "query",
                    "description": "Nilai pencarian untuk judul cuti khusus.",
                    "required": false,
                    "schema": { "type": "string", "default": "" },
                  },
                  {
                    "name": "page",
                    "in": "query",
                    "description": "Nomor halaman untuk paginasi.",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "description": "Jumlah item per halaman.",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Data cuti khusus yang dicari berhasil diambil.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Search special leave data retrieved successfully",
                                        },
                                      "pagination":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "current_page":
                                                { "type": "integer" },
                                              "last_visible_page":
                                                { "type": "integer" },
                                              "has_next_page":
                                                { "type": "boolean" },
                                              "item":
                                                {
                                                  "type": "object",
                                                  "properties":
                                                    {
                                                      "count":
                                                        { "type": "integer" },
                                                      "total":
                                                        { "type": "integer" },
                                                      "per_page":
                                                        { "type": "integer" },
                                                    },
                                                },
                                            },
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "$ref": "#/components/schemas/tb_special_leave",
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successResponse":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "Search special leave data retrieved successfully",
                                          "pagination":
                                            {
                                              "current_page": 1,
                                              "last_visible_page": 1,
                                              "has_next_page": false,
                                              "item":
                                                {
                                                  "count": 1,
                                                  "total": 1,
                                                  "per_page": 10,
                                                },
                                            },
                                          "data":
                                            [
                                              {
                                                "id_special": "f5e4d3c2-b1a0-9876-5432-10fedcba9876",
                                                "title": "Cuti Haji",
                                                "applicable_gender": "mf",
                                                "duration": 40,
                                                "is_active": true,
                                                "description": "Cuti untuk menjalankan ibadah haji",
                                              },
                                            ],
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan Server Internal",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/leaves/special/{id}":
        {
          "patch":
            {
              "tags": ["Dashboard admin"],
              "summary": "Memperbarui Cuti Khusus",
              "description": "Memperbarui data cuti khusus yang ada berdasarkan ID. Data yang diterima akan divalidasi dan hanya properti yang disediakan yang akan diperbarui (parsial).",
              "parameters":
                [
                  {
                    "name": "id",
                    "in": "path",
                    "description": "ID dari cuti khusus yang akan diperbarui.",
                    "required": true,
                    "schema": { "type": "string", "format": "uuid" },
                  },
                ],
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "schema":
                            {
                              "type": "object",
                              "properties":
                                {
                                  "title":
                                    {
                                      "type": "string",
                                      "maxLength": 255,
                                      "description": "Judul cuti khusus",
                                    },
                                  "applicable_gender":
                                    {
                                      "$ref": "#/components/schemas/applicable_gender",
                                      "description": "Jenis kelamin yang berlaku untuk cuti ini (m, f, atau mf)",
                                    },
                                  "duration":
                                    {
                                      "type": "integer",
                                      "minimum": 1,
                                      "maximum": 365,
                                      "description": "Durasi cuti dalam hari",
                                    },
                                  "is_active":
                                    {
                                      "type": "boolean",
                                      "description": "Status aktif cuti khusus",
                                    },
                                  "description":
                                    {
                                      "type": "string",
                                      "description": "Deskripsi cuti khusus",
                                    },
                                },
                            },
                          "examples":
                            {
                              "updateSpecialLeaveRequest":
                                {
                                  "value":
                                    {
                                      "title": "Cuti Pernikahan Diperbarui",
                                      "duration": 5,
                                    },
                                },
                            },
                        },
                    },
                },
              "responses":
                {
                  "200":
                    {
                      "description": "Cuti khusus berhasil diperbarui.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Special leave updated successfully",
                                        },
                                      "data":
                                        {
                                          "$ref": "#/components/schemas/tb_special_leave",
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successResponse":
                                    {
                                      "value":
                                        {
                                          "message": "Special leave updated successfully",
                                          "data":
                                            {
                                              "id_special": "c1d2e3f4-g5h6-7890-1234-567890abcdef",
                                              "title": "Cuti Pernikahan Diperbarui",
                                              "applicable_gender": "mf",
                                              "duration": 5,
                                              "is_active": true,
                                              "description": "Cuti untuk karyawan yang menikah",
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Permintaan Tidak Valid. Ini bisa disebabkan oleh: \n- Kesalahan validasi data input. \n- Cuti khusus tidak ditemukan.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Special leave not found",
                                              "Maximum title 255 characters",
                                            ],
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "notFound":
                                    {
                                      "value":
                                        {
                                          "message": "Special leave not found",
                                        },
                                    },
                                  "validationError":
                                    {
                                      "value":
                                        {
                                          "message": "Maximum title 255 characters",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/leaves/mandatory":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Mendapatkan Semua Cuti Wajib",
              "description": "Mengambil semua data cuti wajib dengan paginasi.",
              "parameters":
                [
                  {
                    "name": "page",
                    "in": "query",
                    "description": "Nomor halaman untuk paginasi.",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "description": "Jumlah item per halaman.",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Semua data cuti wajib berhasil diambil.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "All mandatory leave was successfully taken",
                                        },
                                      "pagination":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "current_page":
                                                { "type": "integer" },
                                              "last_visible_page":
                                                { "type": "integer" },
                                              "has_next_page":
                                                { "type": "boolean" },
                                              "item":
                                                {
                                                  "type": "object",
                                                  "properties":
                                                    {
                                                      "count":
                                                        { "type": "integer" },
                                                      "total":
                                                        { "type": "integer" },
                                                      "per_page":
                                                        { "type": "integer" },
                                                    },
                                                },
                                            },
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "$ref": "#/components/schemas/tb_mandatory_leave",
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successResponse":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "All mandatory leave was successfully taken",
                                          "pagination":
                                            {
                                              "current_page": 1,
                                              "last_visible_page": 1,
                                              "has_next_page": false,
                                              "item":
                                                {
                                                  "count": 1,
                                                  "total": 1,
                                                  "per_page": 10,
                                                },
                                            },
                                          "data":
                                            [
                                              {
                                                "id_mandatory": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
                                                "title": "Cuti Bersama Idul Fitri",
                                                "duration": 2,
                                                "is_active": true,
                                                "description": "Cuti wajib saat hari raya Idul Fitri",
                                              },
                                            ],
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan Server Internal",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
          "post":
            {
              "tags": ["Dashboard admin"],
              "summary": "Membuat Cuti Wajib Baru",
              "description": "Membuat entri cuti wajib baru. Data yang diterima akan divalidasi dan `start_date` harus setidaknya 14 hari dari hari ini.",
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "schema":
                            {
                              "type": "object",
                              "properties":
                                {
                                  "id_mandatory":
                                    {
                                      "type": "string",
                                      "format": "uuid",
                                      "maxLength": 50,
                                      "description": "ID unik untuk cuti wajib (opsional, akan dihasilkan jika tidak diberikan)",
                                    },
                                  "title":
                                    {
                                      "type": "string",
                                      "maxLength": 255,
                                      "description": "Judul cuti wajib",
                                    },
                                  "is_active":
                                    {
                                      "type": "boolean",
                                      "description": "Status aktif cuti wajib (opsional)",
                                      "default": true,
                                    },
                                  "start_date":
                                    {
                                      "type": "string",
                                      "format": "date",
                                      "description": "Tanggal mulai cuti wajib. Harus setidaknya 14 hari dari tanggal saat ini.",
                                    },
                                  "end_date":
                                    {
                                      "type": "string",
                                      "format": "date",
                                      "description": "Tanggal berakhir cuti wajib.",
                                    },
                                  "description":
                                    {
                                      "type": "string",
                                      "description": "Deskripsi cuti wajib",
                                    },
                                },
                              "required":
                                [
                                  "title",
                                  "start_date",
                                  "end_date",
                                  "description",
                                ],
                            },
                          "examples":
                            {
                              "createMandatoryLeaveRequest":
                                {
                                  "value":
                                    {
                                      "title": "Cuti Wajib Tahun Baru",
                                      "start_date": "2025-01-15",
                                      "end_date": "2025-01-15",
                                      "description": "Cuti wajib untuk merayakan Tahun Baru",
                                    },
                                },
                            },
                        },
                    },
                },
              "responses":
                {
                  "201":
                    {
                      "description": "Cuti wajib berhasil dibuat.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Mandatory leave created successfully",
                                        },
                                      "data":
                                        {
                                          "$ref": "#/components/schemas/tb_mandatory_leave",
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successResponse":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "Mandatory leave created successfully",
                                          "data":
                                            {
                                              "id_mandatory": "c1d2e3f4-g5h6-7890-1234-567890abcdef",
                                              "title": "Cuti Wajib Tahun Baru",
                                              "duration": null,
                                              "is_active": true,
                                              "start_date": "2025-01-15T00:00:00.000Z",
                                              "end_date": "2025-01-15T00:00:00.000Z",
                                              "description": "Cuti wajib untuk merayakan Tahun Baru",
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Permintaan Tidak Valid. Ini bisa disebabkan oleh: \n- Kesalahan validasi data input. \n- Tanggal mulai kurang dari 14 hari dari hari ini.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Start date is required",
                                              "Start date must be at least 14 days from today (YYYY-MM-DD)",
                                              "Maximum title is 255 characters",
                                            ],
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "missingStartDate":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "message": "Start date is required",
                                        },
                                    },
                                  "invalidStartDate":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "message": "Start date must be at least 14 days from today (2025-08-08)",
                                        },
                                    },
                                  "validationError":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "message": "Maximum title is 255 characters",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/leaves/mandatory/search":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Mencari Cuti Wajib Berdasarkan Nilai",
              "description": "Mencari data cuti wajib berdasarkan judul dengan paginasi.",
              "parameters":
                [
                  {
                    "name": "value",
                    "in": "query",
                    "description": "Nilai pencarian untuk judul cuti wajib.",
                    "required": false,
                    "schema": { "type": "string", "default": "" },
                  },
                  {
                    "name": "page",
                    "in": "query",
                    "description": "Nomor halaman untuk paginasi.",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "description": "Jumlah item per halaman.",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Data cuti wajib yang dicari berhasil diambil.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Search mandatory leave data retrived succesfully",
                                        },
                                      "pagination":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "current_page":
                                                { "type": "integer" },
                                              "last_visible_page":
                                                { "type": "integer" },
                                              "has_next_page":
                                                { "type": "boolean" },
                                              "item":
                                                {
                                                  "type": "object",
                                                  "properties":
                                                    {
                                                      "count":
                                                        { "type": "integer" },
                                                      "total":
                                                        { "type": "integer" },
                                                      "per_page":
                                                        { "type": "integer" },
                                                    },
                                                },
                                            },
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "$ref": "#/components/schemas/tb_mandatory_leave",
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successResponse":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "Search mandatory leave data retrived succesfully",
                                          "pagination":
                                            {
                                              "current_page": 1,
                                              "last_visible_page": 1,
                                              "has_next_page": false,
                                              "item":
                                                {
                                                  "count": 1,
                                                  "total": 1,
                                                  "per_page": 10,
                                                },
                                            },
                                          "data":
                                            [
                                              {
                                                "id_mandatory": "f5e4d3c2-b1a0-9876-5432-10fedcba9876",
                                                "title": "Cuti Hari Kemerdekaan",
                                                "duration": 1,
                                                "is_active": true,
                                                "description": "Cuti untuk merayakan hari kemerdekaan",
                                              },
                                            ],
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan Server Internal",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/leaves/mandatory/{id}":
        {
          "patch":
            {
              "tags": ["Dashboard admin"],
              "summary": "Memperbarui Cuti Wajib",
              "description": "Memperbarui data cuti wajib yang ada berdasarkan ID. Data yang diterima akan divalidasi dan hanya properti yang disediakan yang akan diperbarui (parsial).",
              "parameters":
                [
                  {
                    "name": "id",
                    "in": "path",
                    "description": "ID dari cuti wajib yang akan diperbarui.",
                    "required": true,
                    "schema": { "type": "string", "format": "uuid" },
                  },
                ],
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "schema":
                            {
                              "type": "object",
                              "properties":
                                {
                                  "title":
                                    {
                                      "type": "string",
                                      "maxLength": 255,
                                      "description": "Judul cuti wajib",
                                    },
                                  "is_active":
                                    {
                                      "type": "boolean",
                                      "description": "Status aktif cuti wajib",
                                    },
                                  "start_date":
                                    {
                                      "type": "string",
                                      "format": "date",
                                      "description": "Tanggal mulai cuti wajib.",
                                    },
                                  "end_date":
                                    {
                                      "type": "string",
                                      "format": "date",
                                      "description": "Tanggal berakhir cuti wajib.",
                                    },
                                  "description":
                                    {
                                      "type": "string",
                                      "description": "Deskripsi cuti wajib",
                                    },
                                },
                            },
                          "examples":
                            {
                              "updateMandatoryLeaveRequest":
                                {
                                  "value":
                                    {
                                      "title": "Cuti Wajib Tahun Baru Diperbarui",
                                      "is_active": false,
                                    },
                                },
                            },
                        },
                    },
                },
              "responses":
                {
                  "200":
                    {
                      "description": "Cuti wajib berhasil diperbarui.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Mandatory leave updated successfully",
                                        },
                                      "data":
                                        {
                                          "$ref": "#/components/schemas/tb_mandatory_leave",
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successResponse":
                                    {
                                      "value":
                                        {
                                          "message": "Mandatory leave updated successfully",
                                          "data":
                                            {
                                              "id_mandatory": "c1d2e3f4-g5h6-7890-1234-567890abcdef",
                                              "title": "Cuti Wajib Tahun Baru Diperbarui",
                                              "duration": null,
                                              "is_active": false,
                                              "start_date": "2025-01-15T00:00:00.000Z",
                                              "end_date": "2025-01-15T00:00:00.000Z",
                                              "description": "Cuti wajib untuk merayakan Tahun Baru",
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Permintaan Tidak Valid. Ini bisa disebabkan oleh: \n- Kesalahan validasi data input. \n- Cuti wajib tidak ditemukan.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Mandatory leave not found",
                                              "Maximum title is 255 characters",
                                            ],
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "notFound":
                                    {
                                      "value":
                                        {
                                          "message": "Mandatory leave not found",
                                        },
                                    },
                                  "validationError":
                                    {
                                      "value":
                                        {
                                          "message": "Maximum title is 255 characters",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/leaves/{id}":
        {
          "patch":
            {
              "tags": ["Dashboard admin"],
              "summary": "Memperbarui Status Cuti Berdasarkan ID",
              "description": "Memperbarui status pengajuan cuti (disetujui/ditolak) dan membuat log perubahan. Endpoint ini membutuhkan autentikasi dan otorisasi oleh `super_admin` atau `admin`.",
              "parameters":
                [
                  {
                    "name": "id",
                    "in": "path",
                    "description": "ID unik dari pengajuan cuti yang akan diperbarui.",
                    "required": true,
                    "schema": { "type": "string", "format": "uuid" },
                  },
                ],
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "schema":
                            {
                              "type": "object",
                              "properties":
                                {
                                  "status":
                                    { "$ref": "#/components/schemas/status" },
                                  "reason":
                                    {
                                      "type": "string",
                                      "maxLength": 255,
                                      "description": "Alasan untuk perubahan status cuti.",
                                    },
                                },
                              "required": ["status", "reason"],
                            },
                          "examples":
                            {
                              "approveLeave":
                                {
                                  "value":
                                    {
                                      "status": "approved",
                                      "reason": "Pengajuan cuti disetujui setelah peninjauan.",
                                    },
                                },
                              "rejectLeave":
                                {
                                  "value":
                                    {
                                      "status": "rejected",
                                      "reason": "Pengajuan cuti ditolak karena tidak sesuai kebijakan perusahaan.",
                                    },
                                },
                            },
                        },
                    },
                },
              "responses":
                {
                  "200":
                    {
                      "description": "Data cuti berhasil diperbarui.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": true },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Successfully updated leave data",
                                        },
                                      "data":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "updated_leave":
                                                {
                                                  "$ref": "#/components/schemas/tb_leave",
                                                },
                                            },
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "successResponse":
                                    {
                                      "value":
                                        {
                                          "success": true,
                                          "message": "Successfully updated leave data",
                                          "data":
                                            {
                                              "updated_leave":
                                                {
                                                  "id_leave": "some-uuid-1",
                                                  "title": "Cuti Tahunan",
                                                  "leave_type": "personal_leave",
                                                  "start_date": "2024-07-20",
                                                  "end_date": "2024-07-25",
                                                  "total_days": 5,
                                                  "reason": "Liburan keluarga",
                                                  "status": "approved",
                                                  "created_at": "2024-07-10T10:00:00Z",
                                                  "NIK": "1234567890",
                                                  "id_special": null,
                                                  "id_mandatory": null,
                                                },
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Permintaan Tidak Valid. Ini bisa disebabkan oleh: \n- Kesalahan validasi data input (misalnya, `status` tidak valid, `reason` terlalu panjang). \n- Tanggal mulai cuti telah melewati tanggal saat ini. \n- Status baru sama dengan status lama. \n- Pengguna mencoba menyetujui atau menolak cutinya sendiri.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 400 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Invalid enum value. Expected 'rejected' | 'approved', received 'invalid_status'",
                                              "Too many characters in reason field. Max 255.",
                                              "The start date of the leave has passed the current date",
                                              "New status and old status can't be the same",
                                              "Users are not allowed to approve or reject their own leave requests",
                                            ],
                                        },
                                      "detail":
                                        { "type": "string", "nullable": true },
                                    },
                                },
                              "examples":
                                {
                                  "invalidStatus":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 400,
                                          "message": "Invalid enum value. Expected 'rejected' | 'approved', received 'invalid_status'",
                                          "detail": "",
                                        },
                                    },
                                  "reasonTooLong":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 400,
                                          "message": "Too many characters in reason field. Max 255.",
                                          "detail": "",
                                        },
                                    },
                                  "startDatePassed":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 400,
                                          "message": "The start date of the leave has passed the current date",
                                          "detail": "",
                                        },
                                    },
                                  "sameStatus":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 400,
                                          "message": "New status and old status can't be the same",
                                          "detail": "",
                                        },
                                    },
                                  "selfApprovalRejection":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 400,
                                          "message": "Users are not allowed to approve or reject their own leave requests",
                                          "detail": "",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Tidak Sah. Ini bisa disebabkan oleh: \n- Header `Authorization` atau `device-id` tidak ditemukan. \n- Token tidak valid atau kedaluwarsa.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 401 },
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Authorization header not found",
                                              "Unauthorized. please login to access this resources.",
                                            ],
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "Login session expired",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "noAuthHeader":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Authorization header not found",
                                          "detail": "",
                                        },
                                    },
                                  "tokenExpired":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 401,
                                          "message": "Unauthorized. please login to access this resources.",
                                          "detail": "Login session expired",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "403":
                    {
                      "description": "Akses Ditolak. Ini bisa disebabkan oleh: \n- Peran pengguna tidak diizinkan untuk mengakses sumber daya ini (hanya `super_admin` atau `admin`). \n- Tidak ada peran yang ditemukan di token.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "examples":
                                            [
                                              "Access denied. No role found.",
                                              "Access denied.",
                                            ],
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "noRoleFound":
                                    {
                                      "value":
                                        {
                                          "message": "Access denied. No role found.",
                                        },
                                    },
                                  "insufficientRole":
                                    {
                                      "value": { "message": "Access denied." },
                                    },
                                },
                            },
                        },
                    },
                  "404":
                    {
                      "description": "Tidak Ditemukan. Ini bisa disebabkan oleh: \n- Cuti tidak ditemukan di database.",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 404 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "leave not found",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "leave not found in database",
                                          "nullable": true,
                                        },
                                    },
                                },
                              "examples":
                                {
                                  "leaveNotFound":
                                    {
                                      "value":
                                        {
                                          "success": false,
                                          "status_code": 404,
                                          "message": "leave not found",
                                          "detail": "leave not found in database",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan Server Internal",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "success":
                                        { "type": "boolean", "example": false },
                                      "status_code":
                                        { "type": "integer", "example": 500 },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal Server Error",
                                        },
                                      "detail":
                                        {
                                          "type": "string",
                                          "example": "",
                                          "nullable": true,
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
    },
  "components":
    {
      "schemas":
        {
          "tb_balance":
            {
              "type": "object",
              "properties":
                {
                  "id_balance": { "type": "string" },
                  "amount": { "type": "integer" },
                  "receive_date": { "type": "string", "format": "date" },
                  "expired_date": { "type": "string", "format": "date" },
                  "NIK": { "type": "string" },
                },
              "required":
                ["id_balance", "amount", "receive_date", "expired_date", "NIK"],
            },
          "tb_leave":
            {
              "type": "object",
              "properties":
                {
                  "id_leave": { "type": "string" },
                  "title": { "type": "string" },
                  "leave_type": { "$ref": "#/components/schemas/leave_type" },
                  "start_date": { "type": "string", "format": "date" },
                  "end_date": { "type": "string", "format": "date" },
                  "total_days": { "type": "integer" },
                  "reason": { "type": "string" },
                  "status": { "$ref": "#/components/schemas/status" },
                  "created_at": { "type": "string", "format": "date-time" },
                  "NIK": { "type": "string" },
                  "id_special": { "type": "string", "nullable": true },
                  "id_mandatory": { "type": "string", "nullable": true },
                },
              "required":
                [
                  "id_leave",
                  "title",
                  "leave_type",
                  "start_date",
                  "end_date",
                  "total_days",
                  "reason",
                  "status",
                  "created_at",
                  "NIK",
                ],
            },
          "tb_mandatory_leave":
            {
              "type": "object",
              "properties":
                {
                  "id_mandatory": { "type": "string" },
                  "title": { "type": "string" },
                  "duration": { "type": "integer" },
                  "is_active": { "type": "boolean" },
                  "description": { "type": "string" },
                },
              "required":
                [
                  "id_mandatory",
                  "title",
                  "duration",
                  "is_active",
                  "description",
                ],
            },
          "tb_special_leave":
            {
              "type": "object",
              "properties":
                {
                  "id_special": { "type": "string" },
                  "title": { "type": "string" },
                  "applicable_gender":
                    { "$ref": "#/components/schemas/applicable_gender" },
                  "duration": { "type": "integer" },
                  "is_active": { "type": "boolean" },
                  "description": { "type": "string" },
                },
              "required":
                [
                  "id_special",
                  "title",
                  "applicable_gender",
                  "duration",
                  "is_active",
                  "description",
                ],
            },
          "tb_users":
            {
              "type": "object",
              "properties":
                {
                  "NIK": { "type": "string" },
                  "fullname": { "type": "string" },
                  "email": { "type": "string", "format": "email" },
                  "password": { "type": "string" },
                  "gender": { "$ref": "#/components/schemas/gender" },
                  "role": { "$ref": "#/components/schemas/role" },
                  "status_active":
                    { "$ref": "#/components/schemas/status_active" },
                  "join_date": { "type": "string", "format": "date" },
                },
              "required":
                [
                  "NIK",
                  "fullname",
                  "email",
                  "password",
                  "gender",
                  "role",
                  "status_active",
                  "join_date",
                ],
            },
          "tb_balance_adjustment":
            {
              "type": "object",
              "properties":
                {
                  "id_adjustment": { "type": "string" },
                  "adjustment_value": { "type": "integer" },
                  "notes": { "type": "string" },
                  "created_at": { "type": "string", "format": "date-time" },
                  "actor": { "type": "string" },
                  "NIK": { "type": "string" },
                },
              "required":
                [
                  "id_adjustment",
                  "adjustment_value",
                  "created_at",
                  "actor",
                  "NIK",
                ],
            },
          "tb_leave_log":
            {
              "type": "object",
              "properties":
                {
                  "id_log": { "type": "string" },
                  "old_status": { "$ref": "#/components/schemas/status" },
                  "new_status": { "$ref": "#/components/schemas/status" },
                  "reason": { "type": "string" },
                  "changed_at": { "type": "string", "format": "date-time" },
                  "changed_by_nik": { "type": "string" },
                  "id_leave": { "type": "string" },
                },
              "required":
                [
                  "id_log",
                  "old_status",
                  "new_status",
                  "reason",
                  "changed_at",
                  "changed_by_nik",
                  "id_leave",
                ],
            },

          "gender": { "type": "string", "enum": ["male", "female"] },
          "applicable_gender": { "type": "string", "enum": ["m", "f", "mf"] },
          "leave_type":
            {
              "type": "string",
              "enum": ["personal_leave", "mandatory_leave", "special_leave"],
            },
          "role":
            {
              "type": "string",
              "enum":
                [
                  "karyawan_tetap",
                  "karyawan_kontrak",
                  "magang",
                  "admin",
                  "super_admin",
                ],
            },
          "status":
            { "type": "string", "enum": ["pending", "approved", "rejected"] },
          "status_active": { "type": "string", "enum": ["active", "resign"] },
        },
    },
}
