{
  "openapi": "3.0.3",
  "info":
    {
      "title": "Leave Management System",
      "version": "1.0.0",
      "description": "OpenAPI schema documentation.",
    },
  "paths":
    {
      "/api/v1/auth/login":
        {
          "post":
            {
              "summary": "Login",
              "description": "Login user menggunakan email dan password",
              "tags": ["Auth"],
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "schema":
                            {
                              "type": "object",
                              "properties":
                                {
                                  "email":
                                    { "type": "string", "format": "email" },
                                  "password":
                                    {
                                      "type": "string",
                                      "minLength": 8,
                                      "maxLength": 16,
                                    },
                                },
                              "required": ["email", "password"],
                            },
                        },
                    },
                },
              "responses":
                {
                  "200":
                    {
                      "description": "Login berhasil",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "success": true,
                                  "message": "Welcome John Doe",
                                  "data":
                                    {
                                      "nik": "12345678",
                                      "name": "John Doe",
                                      "role": "admin",
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Email dan password tidak cocok atau user tidak ditemukan",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "status": "failed",
                                  "message": "Email and password are not matched.",
                                  "status_code": 400,
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "User tidak aktif atau role tidak diperbolehkan",
                      "content":
                        {
                          "application/json":
                            {
                              "examples":
                                {
                                  "Resign":
                                    {
                                      "value":
                                        {
                                          "status": "failed",
                                          "message": "Account is inactive",
                                          "status_code": 401,
                                        },
                                    },
                                  "Role tidak diizinkan":
                                    {
                                      "value":
                                        {
                                          "status": "failed",
                                          "message": "Your role does not have access to this system.",
                                          "status_code": 401,
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/api/v1/auth/logout":
        {
          "get":
            {
              "summary": "Logout",
              "description": "Logout user dan hapus token dari database",
              "tags": ["Auth"],
              "security": [{ "bearerAuth": [] }],
              "responses":
                {
                  "200":
                    {
                      "description": "Logout berhasil",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "success": true,
                                  "message": "You have been successfully logged out.",
                                },
                            },
                        },
                    },
                  "408":
                    {
                      "description": "Token expired atau tidak valid",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "status": false,
                                  "status_code": 408,
                                  "message": "Unauthorized. Please login to access this resource.",
                                  "detail": "Login session expired",
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Error lain saat logout",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "status": "failed",
                                  "message": "Something went wrong.",
                                  "status_code": 400,
                                },
                            },
                        },
                    },
                },
            },
        },
      "/users/{nik}":
        {
          "get":
            {
              "summary": "Ambil informasi balance cuti user dan data user",
              "tags": ["Dashboard user"],
              "description": "Mengembalikan data cuti seperti current balance, carried forward, total used, dan pending requests.user  hanya bisa melihat dirinya sendiri.",
              "parameters":
                [
                  {
                    "name": "nik",
                    "in": "path",
                    "required": true,
                    "schema": { "type": "string", "example": "102938" },
                    "description": "NIK dari user yang datanya ingin diambil",
                  },
                ],
              "responses":
                {
                  "201":
                    {
                      "description": "Data berhasil diambil",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "status":
                                        {
                                          "type": "string",
                                          "example": "successful",
                                        },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Data retrieve successfully",
                                        },
                                      "requested_by":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "role":
                                                {
                                                  "type": "string",
                                                  "example": "user",
                                                },
                                              "nik":
                                                {
                                                  "type": "string",
                                                  "example": "102938",
                                                },
                                            },
                                        },
                                      "data":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "NIK":
                                                {
                                                  "type": "string",
                                                  "example": "102938",
                                                },
                                              "fullname":
                                                {
                                                  "type": "string",
                                                  "example": "John Doe",
                                                },
                                              "gender":
                                                {
                                                  "type": "string",
                                                  "example": "male",
                                                },
                                              "status_active":
                                                {
                                                  "type": "string",
                                                  "example": "active",
                                                },
                                              "role":
                                                {
                                                  "type": "string",
                                                  "example": "user",
                                                },
                                              "balance":
                                                {
                                                  "type": "object",
                                                  "properties":
                                                    {
                                                      "total_amount":
                                                        {
                                                          "type": "number",
                                                          "example": 14,
                                                          "description": "Total cuti tersedia (current + carried)",
                                                        },
                                                      "current_amount":
                                                        {
                                                          "type": "number",
                                                          "example": 12,
                                                          "description": "Jumlah cuti dari tahun berjalan",
                                                        },
                                                      "carried_amount":
                                                        {
                                                          "type": "number",
                                                          "example": 2,
                                                          "description": "Jumlah cuti yang dibawa dari tahun sebelumnya",
                                                        },
                                                      "days_used":
                                                        {
                                                          "type": "number",
                                                          "example": 4,
                                                          "description": "Jumlah hari cuti yang telah disetujui dan digunakan",
                                                        },
                                                      "pending_request":
                                                        {
                                                          "type": "number",
                                                          "example": 1,
                                                          "description": "Jumlah hari cuti yang masih pending",
                                                        },
                                                    },
                                                },
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "403":
                    {
                      "description": "Session tidak valid atau role tidak diizinkan",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Access denied. No role found.",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "404":
                    {
                      "description": "User tidak ditemukan",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "status":
                                        {
                                          "type": "string",
                                          "example": "failed",
                                        },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "user not found",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Error dari server",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "status":
                                        {
                                          "type": "string",
                                          "example": "failed",
                                        },
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Internal server error",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/users/leave":
        {
          "post":
            {
              "summary": "Buat permintaan cuti",
              "tags": ["Dashboard user"],
              "description": "User yang sudah login dapat mengajukan permintaan cuti. Jika jenis cuti adalah `special_leave` atau `mandatory_leave`, maka id terkait wajib diisi. Untuk `special_leave`, `end_date` akan dihitung otomatis.",
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "schema":
                            {
                              "type": "object",
                              "required":
                                ["title", "leave_type", "start_date", "reason"],
                              "properties":
                                {
                                  "title":
                                    {
                                      "type": "string",
                                      "minLength": 3,
                                      "example": "Izin ke dokter",
                                    },
                                  "leave_type":
                                    {
                                      "type": "string",
                                      "enum":
                                        [
                                          "personal_leave",
                                          "mandatory_leave",
                                          "special_leave",
                                        ],
                                      "example": "special_leave",
                                    },
                                  "start_date":
                                    {
                                      "type": "string",
                                      "format": "date",
                                      "example": "2025-08-20",
                                    },
                                  "end_date":
                                    {
                                      "type": "string",
                                      "format": "date",
                                      "example": "2025-08-21",
                                    },
                                  "reason":
                                    {
                                      "type": "string",
                                      "minLength": 5,
                                      "example": "Pemeriksaan kesehatan rutin",
                                    },
                                  "id_special":
                                    {
                                      "type": "string",
                                      "nullable": true,
                                      "example": "spcl123",
                                    },
                                },
                            },
                        },
                    },
                },
              "responses":
                {
                  "201":
                    {
                      "description": "Cuti berhasil diajukan",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Leave request created successfully",
                                        },
                                      "data":
                                        {
                                          "type": "object",
                                          "properties":
                                            {
                                              "title":
                                                {
                                                  "type": "string",
                                                  "example": "Izin ke dokter",
                                                },
                                              "leave_type":
                                                {
                                                  "type": "string",
                                                  "example": "special_leave",
                                                },
                                              "start_date":
                                                {
                                                  "type": "string",
                                                  "format": "date",
                                                  "example": "2025-08-20",
                                                },
                                              "end_date":
                                                {
                                                  "type": "string",
                                                  "format": "date",
                                                  "example": "2025-08-21",
                                                },
                                              "reason":
                                                {
                                                  "type": "string",
                                                  "example": "Pemeriksaan kesehatan rutin",
                                                },
                                              "NIK":
                                                {
                                                  "type": "string",
                                                  "example": "102938",
                                                },
                                              "total_days":
                                                {
                                                  "type": "integer",
                                                  "example": 2,
                                                },
                                              "id_special":
                                                {
                                                  "type": "string",
                                                  "nullable": true,
                                                  "example": "spcl123",
                                                },
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Validasi gagal atau ID tidak valid",
                      "content":
                        {
                          "application/json":
                            {
                              "oneOf":
                                [
                                  {
                                    "description": "ID special atau mandatory tidak valid",
                                    "schema":
                                      {
                                        "type": "object",
                                        "properties":
                                          {
                                            "message":
                                              {
                                                "type": "string",
                                                "example": "id_special is required for special leave",
                                              },
                                          },
                                      },
                                  },
                                  {
                                    "description": "Jumlah hari cuti melebihi jatah yang tersedia",
                                    "schema":
                                      {
                                        "type": "object",
                                        "properties":
                                          {
                                            "message":
                                              {
                                                "type": "string",
                                                "example": "Insufficient leave balance. Available: 10 days, Requested: 12 working days",
                                              },
                                            "data":
                                              {
                                                "type": "object",
                                                "properties":
                                                  {
                                                    "total_balance":
                                                      {
                                                        "type": "integer",
                                                        "example": 12,
                                                      },
                                                    "pending_days":
                                                      {
                                                        "type": "integer",
                                                        "example": 2,
                                                      },
                                                    "available_balance":
                                                      {
                                                        "type": "integer",
                                                        "example": 10,
                                                      },
                                                    "requested_working_days":
                                                      {
                                                        "type": "integer",
                                                        "example": 12,
                                                      },
                                                  },
                                              },
                                          },
                                      },
                                  },
                                ],
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Belum login (tidak ada session)",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Unauthorized. Please login to access this resource.",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "422":
                    {
                      "description": "Validasi Zod gagal",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "errors":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "type": "object",
                                              "properties":
                                                {
                                                  "field":
                                                    {
                                                      "type": "string",
                                                      "example": "title",
                                                    },
                                                  "message":
                                                    {
                                                      "type": "string",
                                                      "example": "Title must be at least 3 characters",
                                                    },
                                                },
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
          "get":
            {
              "summary": "Ambil seluruh riwayat cuti user",
              "tags": ["Dashboard user"],
              "description": "Menampilkan seluruh data cuti berdasarkan NIK user yang sedang login. Digunakan di halaman history pengajuan cuti.",
              "responses":
                {
                  "201":
                    {
                      "description": "Data ditemukan (termasuk kemungkinan kosong)",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Leave requests retrieved successfully",
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "type": "object",
                                              "properties":
                                                {
                                                  "id_leave":
                                                    {
                                                      "type": "string",
                                                      "example": "lv7890",
                                                    },
                                                  "title":
                                                    {
                                                      "type": "string",
                                                      "example": "Libur keluarga",
                                                    },
                                                  "leave_type":
                                                    {
                                                      "type": "string",
                                                      "example": "personal_leave",
                                                    },
                                                  "start_date":
                                                    {
                                                      "type": "string",
                                                      "format": "date",
                                                      "example": "2025-07-01",
                                                    },
                                                  "end_date":
                                                    {
                                                      "type": "string",
                                                      "format": "date",
                                                      "example": "2025-07-03",
                                                    },
                                                  "reason":
                                                    {
                                                      "type": "string",
                                                      "example": "Menemani orang tua ke luar kota",
                                                    },
                                                  "status":
                                                    {
                                                      "type": "string",
                                                      "example": "approved",
                                                    },
                                                  "total_days":
                                                    {
                                                      "type": "integer",
                                                      "example": 3,
                                                    },
                                                  "id_special":
                                                    {
                                                      "type": "string",
                                                      "nullable": true,
                                                      "example": null,
                                                    },
                                                  "id_mandatory":
                                                    {
                                                      "type": "string",
                                                      "nullable": true,
                                                      "example": null,
                                                    },
                                                },
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Unauthorized - belum login",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Unauthorized. Please login to access this resource.",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/users/leave/search":
        {
          "get":
            {
              "summary": "Cari cuti berdasarkan filter",
              "tags": ["Dashboard user"],
              "description": "Cari data cuti berdasarkan tipe cuti (`personal`, `mandatory`, `special`), status (`pending`, `approved`, `reject`), atau pencarian berdasarkan judul (`value`). Kombinasi ketiganya juga didukung.",
              "parameters":
                [
                  {
                    "name": "type",
                    "in": "query",
                    "required": false,
                    "schema":
                      {
                        "type": "string",
                        "enum": ["personal", "mandatory", "special"],
                      },
                    "description": "Tipe cuti",
                  },
                  {
                    "name": "status",
                    "in": "query",
                    "required": false,
                    "schema":
                      {
                        "type": "string",
                        "enum": ["pending", "approved", "reject"],
                      },
                    "description": "Status cuti",
                  },
                  {
                    "name": "value",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "string" },
                    "description": "Kata kunci pencarian berdasarkan judul cuti",
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Data cuti ditemukan",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Filtered leave data retrieved successfully",
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "type": "object",
                                              "properties":
                                                {
                                                  "title":
                                                    {
                                                      "type": "string",
                                                      "example": "Izin menghadiri pernikahan",
                                                    },
                                                  "leave_type":
                                                    {
                                                      "type": "string",
                                                      "example": "mandatory_leave",
                                                    },
                                                  "start_date":
                                                    {
                                                      "type": "string",
                                                      "format": "date",
                                                      "example": "2025-09-10",
                                                    },
                                                  "end_date":
                                                    {
                                                      "type": "string",
                                                      "format": "date",
                                                      "example": "2025-09-12",
                                                    },
                                                  "reason":
                                                    {
                                                      "type": "string",
                                                      "example": "Acara keluarga",
                                                    },
                                                  "status":
                                                    {
                                                      "type": "string",
                                                      "example": "approved",
                                                    },
                                                  "total_days":
                                                    {
                                                      "type": "integer",
                                                      "example": 3,
                                                    },
                                                },
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "201":
                    {
                      "description": "Data tidak ditemukan",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "The data doesn't exist",
                                        },
                                      "data": { "type": "array", "items": {} },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Filter tidak valid",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Invalid leave type. Allowed: personal, mandatory, special",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Belum login",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Unauthorized. Please login to access this resource.",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/users/leave/{id}":
        {
          "get":
            {
              "summary": "Ambil detail cuti berdasarkan ID",
              "tags": ["Dashboard user"],
              "description": "Hanya akan mengembalikan data jika ID cuti memang milik user yang sedang login.",
              "parameters":
                [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "description": "ID dari data cuti",
                    "schema": { "type": "string", "example": "lv12345" },
                  },
                ],
              "responses":
                {
                  "201":
                    {
                      "description": "Data berhasil diambil",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Successfully retrieved leave data by ID",
                                        },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "type": "object",
                                              "properties":
                                                {
                                                  "id_leave":
                                                    {
                                                      "type": "string",
                                                      "example": "lv12345",
                                                    },
                                                  "title":
                                                    {
                                                      "type": "string",
                                                      "example": "Cuti ke luar kota",
                                                    },
                                                  "leave_type":
                                                    {
                                                      "type": "string",
                                                      "example": "personal_leave",
                                                    },
                                                  "start_date":
                                                    {
                                                      "type": "string",
                                                      "format": "date",
                                                      "example": "2025-08-21",
                                                    },
                                                  "end_date":
                                                    {
                                                      "type": "string",
                                                      "format": "date",
                                                      "example": "2025-08-23",
                                                    },
                                                  "reason":
                                                    {
                                                      "type": "string",
                                                      "example": "Liburan keluarga",
                                                    },
                                                  "status":
                                                    {
                                                      "type": "string",
                                                      "example": "approved",
                                                    },
                                                  "total_days":
                                                    {
                                                      "type": "integer",
                                                      "example": 3,
                                                    },
                                                  "NIK":
                                                    {
                                                      "type": "string",
                                                      "example": "102938",
                                                    },
                                                  "id_special":
                                                    {
                                                      "type": "string",
                                                      "nullable": true,
                                                      "example": null,
                                                    },
                                                  "id_mandatory":
                                                    {
                                                      "type": "string",
                                                      "nullable": true,
                                                      "example": null,
                                                    },
                                                },
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Kesalahan saat mengambil data cuti (misal ID tidak cocok dengan NIK login)",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Leave not found or not owned by user",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "401":
                    {
                      "description": "Belum login",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message":
                                        {
                                          "type": "string",
                                          "example": "Unauthorized. Please login to access this resource.",
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/api/v1/users":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Ambil semua data user dan sisa cuti",
              "description": "Mengembalikan daftar user dengan informasi sisa cuti tahun ini dan tahun lalu. Hanya dapat diakses oleh user dengan role 'admin' atau 'super_admin'. Wajib login menggunakan token JWT.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "page",
                    "in": "query",
                    "description": "Nomor halaman untuk pagination",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "description": "Jumlah data per halaman",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Berhasil mengambil data user dan sisa cuti",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "message": "Sucessfullt retrieved leave data",
                                  "data":
                                    {
                                      "data":
                                        [
                                          {
                                            "nik": "1234567890",
                                            "name": "John Doe",
                                            "gender": "male",
                                            "last_year_leave": 3,
                                            "this_year_leave": 12,
                                            "leave_total": 15,
                                            "role": "karyawan_tetap",
                                            "status": "active",
                                          },
                                        ],
                                      "total": 1,
                                      "totalPages": 1,
                                      "page": 1,
                                    },
                                },
                            },
                        },
                    },
                  "403":
                    {
                      "description": "Akses ditolak karena role tidak sesuai",
                      "content":
                        {
                          "application/json":
                            { "example": { "message": "Access denied." } },
                        },
                    },
                  "408":
                    {
                      "description": "Token expired atau tidak valid",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "status": false,
                                  "status_code": 408,
                                  "message": "Unauthorized. Please login to access this resource.",
                                  "detail": "Login session expired",
                                },
                            },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan saat mengambil data user",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "message": "Failed to retrieve user data and leave quota.",
                                },
                            },
                        },
                    },
                },
            },
        },
      "/api/v1/leaves":
        {
          "get":
            {
              "summary": "Ambil semua data cuti (leaves)",
              "description": "Endpoint ini hanya dapat diakses oleh user dengan role 'admin' atau 'super_admin'. Wajib login (JWT). Mendukung pagination.",
              "tags": ["Dashboard admin"],
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "page",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "201":
                    {
                      "description": "Berhasil mengambil semua data cuti",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "message": "All leave requests retrieved successfully",
                                  "data":
                                    [
                                      {
                                        "id_leave": "uuid",
                                        "title": "Cuti Tahunan",
                                        "leave_type": "personal_leave",
                                        "start_date": "2025-07-01",
                                        "end_date": "2025-07-02",
                                        "total_days": 2,
                                        "reason": "Liburan",
                                        "status": "pending",
                                        "created_at": "2025-06-25T10:00:00.000Z",
                                        "NIK": "1234567890",
                                        "id_special": null,
                                        "id_mandatory": null,
                                      },
                                    ],
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Terjadi kesalahan saat mengambil data",
                      "content":
                        {
                          "application/json":
                            {
                              "example": { "message": "Internal server error" },
                            },
                        },
                    },
                  "403":
                    {
                      "description": "Akses ditolak karena role tidak sesuai",
                      "content":
                        {
                          "application/json":
                            { "example": { "message": "Access denied." } },
                        },
                    },
                  "408":
                    {
                      "description": "Token expired atau tidak valid",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "status": false,
                                  "status_code": 408,
                                  "message": "Unauthorized. Please login to access this resource.",
                                  "detail": "Login session expired",
                                },
                            },
                        },
                    },
                },
            },
        },
      "/api/v1/leaves/search":
        {
          "get":
            {
              "summary": "Cari data cuti berdasarkan filter",
              "description": "Hanya user dengan role 'admin' atau 'super_admin' yang dapat mengakses. Data difilter berdasarkan 'type' dan 'value'. Hanya status 'pending' yang ditampilkan.",
              "tags": ["Dashboard admin"],
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "value",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "string" },
                    "description": "Kata kunci pencarian (misal: judul)",
                  },
                  {
                    "name": "type",
                    "in": "query",
                    "required": false,
                    "schema":
                      {
                        "type": "string",
                        "enum": ["personal", "mandatory", "special"],
                      },
                    "description": "Tipe cuti yang difilter",
                  },
                  {
                    "name": "page",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Berhasil mengambil data cuti yang difilter",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "message": "Filtered leave data retrieved successfully",
                                  "data":
                                    [
                                      {
                                        "id_leave": "uuid",
                                        "title": "Cuti Khusus",
                                        "leave_type": "special_leave",
                                        "start_date": "2025-08-10",
                                        "end_date": "2025-08-12",
                                        "total_days": 3,
                                        "reason": "Acara keluarga",
                                        "status": "pending",
                                        "created_at": "2025-08-01T09:00:00.000Z",
                                        "NIK": "9876543210",
                                        "id_special": "spc001",
                                        "id_mandatory": null,
                                      },
                                    ],
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Kesalahan input filter atau validasi",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "message": "Invalid leave type. Allowed values: personal, mandatory, special",
                                },
                            },
                        },
                    },
                  "403":
                    {
                      "description": "Akses ditolak karena role tidak sesuai",
                      "content":
                        {
                          "application/json":
                            { "example": { "message": "Access denied." } },
                        },
                    },
                  "408":
                    {
                      "description": "Token expired atau tidak valid",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "status": false,
                                  "status_code": 408,
                                  "message": "Unauthorized. Please login to access this resource.",
                                  "detail": "Login session expired",
                                },
                            },
                        },
                    },
                },
            },
        },
      "/api/v1/leaves/{id}":
        {
          "patch":
            {
              "tags": ["Dashboard admin"],
              "summary": "Update status cuti berdasarkan ID",
              "description": "Admin dan Super Admin dapat menyetujui atau menolak cuti. Update akan mempengaruhi balance (sisa cuti) dan membuat log di tb_leave_log.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "id",
                    "in": "path",
                    "description": "ID leave yang ingin di-update",
                    "required": true,
                    "schema": { "type": "string" },
                  },
                ],
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "schema":
                            {
                              "type": "object",
                              "properties":
                                {
                                  "status":
                                    { "$ref": "#/components/schemas/status" },
                                  "reason": { "type": "string" },
                                },
                              "required": ["status", "reason"],
                            },
                          "example":
                            {
                              "status": "approved",
                              "reason": "Semua dokumen sudah lengkap dan sesuai",
                            },
                        },
                    },
                },
              "responses":
                {
                  "200":
                    {
                      "description": "Berhasil memperbarui status cuti",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "status": "Success",
                                  "message": "Successfully updated leave data",
                                  "data": { "new data": "new data" },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Gagal memperbarui cuti (misalnya ID tidak ditemukan, status tidak valid)",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "status": "failed",
                                  "message": "failed updated leave data",
                                },
                            },
                        },
                    },
                  "403":
                    {
                      "description": "Akses ditolak karena role tidak sesuai",
                      "content":
                        {
                          "application/json":
                            { "example": { "message": "Access denied." } },
                        },
                    },
                  "408":
                    {
                      "description": "Token expired atau tidak valid",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "status": false,
                                  "status_code": 408,
                                  "message": "Unauthorized. Please login to access this resource.",
                                  "detail": "Login session expired",
                                },
                            },
                        },
                    },
                },
            },
        },
      "/api/v1/leaves/logs":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Ambil riwayat cuti seluruh karyawan",
              "description": "Mengambil semua riwayat cuti dari seluruh karyawan, hanya dapat diakses oleh admin dan super_admin.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "page",
                    "in": "query",
                    "description": "Nomor halaman",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "description": "Jumlah item per halaman",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Berhasil mengambil riwayat cuti",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "succes": true,
                                  "data":
                                    [
                                      {
                                        "name": "John Doe",
                                        "leave_type": "personal_leave",
                                        "start_date": "2025-05-01",
                                        "end_date": "2025-05-03",
                                        "leave_used": 3,
                                        "status": "approved",
                                      },
                                    ],
                                },
                            },
                        },
                    },
                  "403":
                    {
                      "description": "Akses ditolak karena role tidak sesuai",
                      "content":
                        {
                          "application/json":
                            { "example": { "message": "Access denied." } },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan server saat mengambil data riwayat cuti",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                { "succes": false, "message": "Server Error" },
                            },
                        },
                    },
                },
            },
        },
      "/api/v1/leaves/logs/search":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Cari riwayat cuti berdasarkan filter",
              "description": "Admin dan Super Admin dapat mencari riwayat cuti berdasarkan nama, tipe cuti, dan status.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "value",
                    "in": "query",
                    "description": "Kata kunci nama karyawan",
                    "required": false,
                    "schema": { "type": "string" },
                  },
                  {
                    "name": "type",
                    "in": "query",
                    "description": "Tipe cuti (personal_leave, mandatory_leave, special_leave)",
                    "required": false,
                    "schema":
                      {
                        "type": "string",
                        "enum":
                          [
                            "personal_leave",
                            "mandatory_leave",
                            "special_leave",
                          ],
                      },
                  },
                  {
                    "name": "status",
                    "in": "query",
                    "description": "Status cuti (pending, approved, rejected)",
                    "required": false,
                    "schema":
                      {
                        "type": "string",
                        "enum": ["pending", "approved", "rejected"],
                      },
                  },
                  {
                    "name": "page",
                    "in": "query",
                    "description": "Nomor halaman",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "description": "Jumlah item per halaman",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Berhasil mengambil data riwayat cuti yang difilter",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "success": true,
                                  "data":
                                    [
                                      {
                                        "name": "Jane Smith",
                                        "leave_type": "special_leave",
                                        "start_date": "2025-04-01",
                                        "end_date": "2025-04-02",
                                        "leave_used": 2,
                                        "status": "pending",
                                      },
                                    ],
                                },
                            },
                        },
                    },
                  "403":
                    {
                      "description": "Akses ditolak karena role tidak sesuai",
                      "content":
                        {
                          "application/json":
                            { "example": { "message": "Access denied." } },
                        },
                    },
                  "500":
                    {
                      "description": "Kesalahan server saat mengambil data",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "success": false,
                                  "message": "Something went wrong",
                                },
                            },
                        },
                    },
                },
            },
        },
      "/api/v1/leaves/special":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Ambil semua data special leave",
              "description": "Mengambil seluruh data special leave dengan pagination.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "page",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Data special leave berhasil diambil",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "message": "All special leave was successfully taken",
                                  "data":
                                    [
                                      {
                                        "id_special": "b1d3a79f-cc88-4d12-b749-2ed5c40d9ac4",
                                        "title": "Cuti Menikah",
                                        "applicable_gender": "mf",
                                        "duration": 3,
                                        "is_active": true,
                                        "description": "Cuti untuk acara pernikahan",
                                      },
                                    ],
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Terjadi kesalahan saat mengambil data",
                      "content":
                        {
                          "application/json":
                            {
                              "example": { "message": "Something went wrong" },
                            },
                        },
                    },
                },
            },
          "post":
            {
              "tags": ["Dashboard admin"],
              "summary": "Buat special leave baru",
              "description": "Membuat data cuti khusus baru berdasarkan input yang tervalidasi.",
              "security": [{ "bearerAuth": [] }],
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "example":
                            {
                              "title": "Cuti Melahirkan",
                              "applicable_gender": "f",
                              "duration": 90,
                              "is_active": true,
                              "description": "Cuti untuk persalinan",
                            },
                        },
                    },
                },
              "responses":
                {
                  "201":
                    {
                      "description": "Data special leave berhasil dibuat",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "message": "Special leave created successfully",
                                  "data":
                                    {
                                      "id_special": "a1234567-b89c-123d-e456-426614174000",
                                      "title": "Cuti Melahirkan",
                                      "applicable_gender": "f",
                                      "duration": 90,
                                      "is_active": true,
                                      "description": "Cuti untuk persalinan",
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Validasi atau error server saat membuat data",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "message": "Validation failed or creation error",
                                },
                            },
                        },
                    },
                },
            },
        },
      "/api/v1/leaves/special/search":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Cari data special leave",
              "description": "Mencari special leave berdasarkan `title` menggunakan keyword.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "value",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "string" },
                  },
                  {
                    "name": "page",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Data hasil pencarian berhasil diambil",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "message": "Search special leave data retrieved successfully",
                                  "data":
                                    [
                                      {
                                        "id_special": "abc12345-def6-7890-gh12-ijk345lmnopq",
                                        "title": "Cuti Khitanan Anak",
                                        "applicable_gender": "m",
                                        "duration": 2,
                                        "is_active": true,
                                        "description": "Cuti untuk keperluan khitanan anak laki-laki",
                                      },
                                    ],
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Kesalahan saat pencarian",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                { "message": "Invalid query or server error" },
                            },
                        },
                    },
                },
            },
        },
      "/api/v1/leaves/special/{id}":
        {
          "patch":
            {
              "tags": ["Dashboard admin"],
              "summary": "Update special leave berdasarkan ID",
              "description": "Melakukan pembaruan data special leave berdasarkan ID.",
              "security": [{ "bearerAuth": [] }],
              "parameters":
                [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": { "type": "string", "format": "uuid" },
                  },
                ],
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "example":
                            {
                              "title": "Cuti Menikah",
                              "duration": 5,
                              "is_active": false,
                              "description": "Pembaruan cuti menikah",
                            },
                        },
                    },
                },
              "responses":
                {
                  "200":
                    {
                      "description": "Berhasil update data special leave",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                {
                                  "message": "Special leave updated successfully",
                                  "data":
                                    {
                                      "id_special": "b1d3a79f-cc88-4d12-b749-2ed5c40d9ac4",
                                      "title": "Cuti Menikah",
                                      "applicable_gender": "mf",
                                      "duration": 5,
                                      "is_active": false,
                                      "description": "Pembaruan cuti menikah",
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Kesalahan saat melakukan update",
                      "content":
                        {
                          "application/json":
                            {
                              "example":
                                { "message": "Update failed or invalid ID" },
                            },
                        },
                    },
                },
            },
        },
      "/api/v1/leaves/mandatory":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Ambil semua data cuti wajib",
              "parameters":
                [
                  {
                    "name": "page",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Data cuti wajib berhasil diambil",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message": { "type": "string" },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "$ref": "#/components/schemas/tb_mandatory_leave",
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            },
          "post":
            {
              "tags": ["Dashboard admin"],
              "summary": "Buat data cuti wajib",
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "schema":
                            {
                              "type": "object",
                              "properties":
                                {
                                  "title":
                                    { "type": "string", "maxLength": 255 },
                                  "duration":
                                    {
                                      "type": "integer",
                                      "minimum": 1,
                                      "maximum": 365,
                                    },
                                  "is_active": { "type": "boolean" },
                                  "description": { "type": "string" },
                                },
                              "required": ["title", "duration", "description"],
                            },
                        },
                    },
                },
              "responses":
                {
                  "201":
                    {
                      "description": "Data cuti wajib berhasil dibuat",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message": { "type": "string" },
                                      "data":
                                        {
                                          "$ref": "#/components/schemas/tb_mandatory_leave",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Validasi gagal atau input tidak sesuai",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    { "message": { "type": "string" } },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/api/v1/leaves/mandatory/search":
        {
          "get":
            {
              "tags": ["Dashboard admin"],
              "summary": "Cari cuti wajib berdasarkan judul",
              "parameters":
                [
                  {
                    "name": "value",
                    "in": "query",
                    "required": true,
                    "schema": { "type": "string" },
                  },
                  {
                    "name": "page",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "integer", "default": 1 },
                  },
                  {
                    "name": "limit",
                    "in": "query",
                    "required": false,
                    "schema": { "type": "integer", "default": 10 },
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Data hasil pencarian cuti wajib berhasil diambil",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message": { "type": "string" },
                                      "data":
                                        {
                                          "type": "array",
                                          "items":
                                            {
                                              "$ref": "#/components/schemas/tb_mandatory_leave",
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Kesalahan permintaan pencarian",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    { "message": { "type": "string" } },
                                },
                            },
                        },
                    },
                },
            },
        },
      "/api/v1/leaves/mandatory/{id}":
        {
          "patch":
            {
              "tags": ["Dashboard admin"],
              "summary": "Perbarui data cuti wajib",
              "parameters":
                [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": { "type": "string", "format": "uuid" },
                  },
                ],
              "requestBody":
                {
                  "required": true,
                  "content":
                    {
                      "application/json":
                        {
                          "schema":
                            {
                              "type": "object",
                              "properties":
                                {
                                  "title":
                                    { "type": "string", "maxLength": 255 },
                                  "duration":
                                    {
                                      "type": "integer",
                                      "minimum": 1,
                                      "maximum": 365,
                                    },
                                  "is_active": { "type": "boolean" },
                                  "description": { "type": "string" },
                                },
                            },
                        },
                    },
                },
              "responses":
                {
                  "200":
                    {
                      "description": "Data cuti wajib berhasil diperbarui",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "message": { "type": "string" },
                                      "data":
                                        {
                                          "$ref": "#/components/schemas/tb_mandatory_leave",
                                        },
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Validasi gagal atau data tidak ditemukan",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    { "message": { "type": "string" } },
                                },
                            },
                        },
                    },
                },
            },
        },
    },
  "components":
    {
      "schemas":
        {
          "tb_balance":
            {
              "type": "object",
              "properties":
                {
                  "id_balance": { "type": "string" },
                  "amount": { "type": "integer" },
                  "receive_date": { "type": "string", "format": "date" },
                  "expired_date": { "type": "string", "format": "date" },
                  "NIK": { "type": "string" },
                },
              "required":
                ["id_balance", "amount", "receive_date", "expired_date", "NIK"],
            },
          "tb_leave":
            {
              "type": "object",
              "properties":
                {
                  "id_leave": { "type": "string" },
                  "title": { "type": "string" },
                  "leave_type": { "$ref": "#/components/schemas/leave_type" },
                  "start_date": { "type": "string", "format": "date" },
                  "end_date": { "type": "string", "format": "date" },
                  "total_days": { "type": "integer" },
                  "reason": { "type": "string" },
                  "status": { "$ref": "#/components/schemas/status" },
                  "created_at": { "type": "string", "format": "date-time" },
                  "NIK": { "type": "string" },
                  "id_special": { "type": "string", "nullable": true },
                  "id_mandatory": { "type": "string", "nullable": true },
                },
              "required":
                [
                  "id_leave",
                  "title",
                  "leave_type",
                  "start_date",
                  "end_date",
                  "total_days",
                  "reason",
                  "status",
                  "created_at",
                  "NIK",
                ],
            },
          "tb_mandatory_leave":
            {
              "type": "object",
              "properties":
                {
                  "id_mandatory": { "type": "string" },
                  "title": { "type": "string" },
                  "duration": { "type": "integer" },
                  "is_active": { "type": "boolean" },
                  "description": { "type": "string" },
                },
              "required":
                [
                  "id_mandatory",
                  "title",
                  "duration",
                  "is_active",
                  "description",
                ],
            },
          "tb_special_leave":
            {
              "type": "object",
              "properties":
                {
                  "id_special": { "type": "string" },
                  "title": { "type": "string" },
                  "applicable_gender":
                    { "$ref": "#/components/schemas/applicable_gender" },
                  "duration": { "type": "integer" },
                  "is_active": { "type": "boolean" },
                  "description": { "type": "string" },
                },
              "required":
                [
                  "id_special",
                  "title",
                  "applicable_gender",
                  "duration",
                  "is_active",
                  "description",
                ],
            },
          "tb_users":
            {
              "type": "object",
              "properties":
                {
                  "NIK": { "type": "string" },
                  "fullname": { "type": "string" },
                  "email": { "type": "string", "format": "email" },
                  "password": { "type": "string" },
                  "gender": { "$ref": "#/components/schemas/gender" },
                  "role": { "$ref": "#/components/schemas/role" },
                  "status_active":
                    { "$ref": "#/components/schemas/status_active" },
                  "join_date": { "type": "string", "format": "date" },
                },
              "required":
                [
                  "NIK",
                  "fullname",
                  "email",
                  "password",
                  "gender",
                  "role",
                  "status_active",
                  "join_date",
                ],
            },
          "tb_balance_adjustment":
            {
              "type": "object",
              "properties":
                {
                  "id_adjustment": { "type": "string" },
                  "adjustment_value": { "type": "integer" },
                  "notes": { "type": "string" },
                  "created_at": { "type": "string", "format": "date-time" },
                  "actor": { "type": "string" },
                  "NIK": { "type": "string" },
                },
              "required":
                [
                  "id_adjustment",
                  "adjustment_value",
                  "created_at",
                  "actor",
                  "NIK",
                ],
            },
          "tb_leave_log":
            {
              "type": "object",
              "properties":
                {
                  "id_log": { "type": "string" },
                  "old_status": { "$ref": "#/components/schemas/status" },
                  "new_status": { "$ref": "#/components/schemas/status" },
                  "reason": { "type": "string" },
                  "changed_at": { "type": "string", "format": "date-time" },
                  "changed_by_nik": { "type": "string" },
                  "id_leave": { "type": "string" },
                },
              "required":
                [
                  "id_log",
                  "old_status",
                  "new_status",
                  "reason",
                  "changed_at",
                  "changed_by_nik",
                  "id_leave",
                ],
            },

          "gender": { "type": "string", "enum": ["male", "female"] },
          "applicable_gender": { "type": "string", "enum": ["m", "f", "mf"] },
          "leave_type":
            {
              "type": "string",
              "enum": ["personal_leave", "mandatory_leave", "special_leave"],
            },
          "role":
            {
              "type": "string",
              "enum":
                [
                  "karyawan_tetap",
                  "karyawan_kontrak",
                  "magang",
                  "admin",
                  "super_admin",
                ],
            },
          "status":
            { "type": "string", "enum": ["pending", "approved", "rejected"] },
          "status_active": { "type": "string", "enum": ["active", "resign"] },
        },
    },
}
